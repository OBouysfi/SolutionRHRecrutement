function bn(r,i){return function(){return r.apply(i,arguments)}}const{toString:Qo}=Object.prototype,{getPrototypeOf:ge}=Object,{iterator:Ht,toStringTag:_n}=Symbol,Mt=(r=>i=>{const s=Qo.call(i);return r[s]||(r[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Y=r=>(r=r.toLowerCase(),i=>Mt(i)===r),zt=r=>i=>typeof i===r,{isArray:pt}=Array,wt=zt("undefined");function kt(r){return r!==null&&!wt(r)&&r.constructor!==null&&!wt(r.constructor)&&$(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const wn=Y("ArrayBuffer");function Yo(r){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&wn(r.buffer),i}const Zo=zt("string"),$=zt("function"),Sn=zt("number"),Ct=r=>r!==null&&typeof r=="object",ts=r=>r===!0||r===!1,At=r=>{if(Mt(r)!=="object")return!1;const i=ge(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(_n in r)&&!(Ht in r)},es=r=>{if(!Ct(r)||kt(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},ns=Y("Date"),rs=Y("File"),is=Y("Blob"),os=Y("FileList"),ss=r=>Ct(r)&&$(r.pipe),as=r=>{let i;return r&&(typeof FormData=="function"&&r instanceof FormData||$(r.append)&&((i=Mt(r))==="formdata"||i==="object"&&$(r.toString)&&r.toString()==="[object FormData]"))},cs=Y("URLSearchParams"),[us,ls,hs,fs]=["ReadableStream","Request","Response","Headers"].map(Y),ps=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tt(r,i,{allOwnKeys:s=!1}={}){if(r===null||typeof r>"u")return;let a,u;if(typeof r!="object"&&(r=[r]),pt(r))for(a=0,u=r.length;a<u;a++)i.call(null,r[a],a,r);else{if(kt(r))return;const h=s?Object.getOwnPropertyNames(r):Object.keys(r),f=h.length;let v;for(a=0;a<f;a++)v=h[a],i.call(null,r[v],v,r)}}function kn(r,i){if(kt(r))return null;i=i.toLowerCase();const s=Object.keys(r);let a=s.length,u;for(;a-- >0;)if(u=s[a],i===u.toLowerCase())return u;return null}const ut=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Cn=r=>!wt(r)&&r!==ut;function le(){const{caseless:r}=Cn(this)&&this||{},i={},s=(a,u)=>{const h=r&&kn(i,u)||u;At(i[h])&&At(a)?i[h]=le(i[h],a):At(a)?i[h]=le({},a):pt(a)?i[h]=a.slice():i[h]=a};for(let a=0,u=arguments.length;a<u;a++)arguments[a]&&Tt(arguments[a],s);return i}const ds=(r,i,s,{allOwnKeys:a}={})=>(Tt(i,(u,h)=>{s&&$(u)?r[h]=bn(u,s):r[h]=u},{allOwnKeys:a}),r),ys=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),vs=(r,i,s,a)=>{r.prototype=Object.create(i.prototype,a),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:i.prototype}),s&&Object.assign(r.prototype,s)},gs=(r,i,s,a)=>{let u,h,f;const v={};if(i=i||{},r==null)return i;do{for(u=Object.getOwnPropertyNames(r),h=u.length;h-- >0;)f=u[h],(!a||a(f,r,i))&&!v[f]&&(i[f]=r[f],v[f]=!0);r=s!==!1&&ge(r)}while(r&&(!s||s(r,i))&&r!==Object.prototype);return i},ms=(r,i,s)=>{r=String(r),(s===void 0||s>r.length)&&(s=r.length),s-=i.length;const a=r.indexOf(i,s);return a!==-1&&a===s},bs=r=>{if(!r)return null;if(pt(r))return r;let i=r.length;if(!Sn(i))return null;const s=new Array(i);for(;i-- >0;)s[i]=r[i];return s},_s=(r=>i=>r&&i instanceof r)(typeof Uint8Array<"u"&&ge(Uint8Array)),ws=(r,i)=>{const a=(r&&r[Ht]).call(r);let u;for(;(u=a.next())&&!u.done;){const h=u.value;i.call(r,h[0],h[1])}},Ss=(r,i)=>{let s;const a=[];for(;(s=r.exec(i))!==null;)a.push(s);return a},ks=Y("HTMLFormElement"),Cs=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,u){return a.toUpperCase()+u}),nn=(({hasOwnProperty:r})=>(i,s)=>r.call(i,s))(Object.prototype),Ts=Y("RegExp"),Tn=(r,i)=>{const s=Object.getOwnPropertyDescriptors(r),a={};Tt(s,(u,h)=>{let f;(f=i(u,h,r))!==!1&&(a[h]=f||u)}),Object.defineProperties(r,a)},Ps=r=>{Tn(r,(i,s)=>{if($(r)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=r[s];if($(a)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Os=(r,i)=>{const s={},a=u=>{u.forEach(h=>{s[h]=!0})};return pt(r)?a(r):a(String(r).split(i)),s},Es=()=>{},xs=(r,i)=>r!=null&&Number.isFinite(r=+r)?r:i;function Rs(r){return!!(r&&$(r.append)&&r[_n]==="FormData"&&r[Ht])}const As=r=>{const i=new Array(10),s=(a,u)=>{if(Ct(a)){if(i.indexOf(a)>=0)return;if(kt(a))return a;if(!("toJSON"in a)){i[u]=a;const h=pt(a)?[]:{};return Tt(a,(f,v)=>{const m=s(f,u+1);!wt(m)&&(h[v]=m)}),i[u]=void 0,h}}return a};return s(r,0)},Ls=Y("AsyncFunction"),Ns=r=>r&&(Ct(r)||$(r))&&$(r.then)&&$(r.catch),Pn=((r,i)=>r?setImmediate:i?((s,a)=>(ut.addEventListener("message",({source:u,data:h})=>{u===ut&&h===s&&a.length&&a.shift()()},!1),u=>{a.push(u),ut.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",$(ut.postMessage)),js=typeof queueMicrotask<"u"?queueMicrotask.bind(ut):typeof process<"u"&&process.nextTick||Pn,Is=r=>r!=null&&$(r[Ht]),d={isArray:pt,isArrayBuffer:wn,isBuffer:kt,isFormData:as,isArrayBufferView:Yo,isString:Zo,isNumber:Sn,isBoolean:ts,isObject:Ct,isPlainObject:At,isEmptyObject:es,isReadableStream:us,isRequest:ls,isResponse:hs,isHeaders:fs,isUndefined:wt,isDate:ns,isFile:rs,isBlob:is,isRegExp:Ts,isFunction:$,isStream:ss,isURLSearchParams:cs,isTypedArray:_s,isFileList:os,forEach:Tt,merge:le,extend:ds,trim:ps,stripBOM:ys,inherits:vs,toFlatObject:gs,kindOf:Mt,kindOfTest:Y,endsWith:ms,toArray:bs,forEachEntry:ws,matchAll:Ss,isHTMLForm:ks,hasOwnProperty:nn,hasOwnProp:nn,reduceDescriptors:Tn,freezeMethods:Ps,toObjectSet:Os,toCamelCase:Cs,noop:Es,toFiniteNumber:xs,findKey:kn,global:ut,isContextDefined:Cn,isSpecCompliantForm:Rs,toJSONObject:As,isAsyncFn:Ls,isThenable:Ns,setImmediate:Pn,asap:js,isIterable:Is};function L(r,i,s,a,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",i&&(this.code=i),s&&(this.config=s),a&&(this.request=a),u&&(this.response=u,this.status=u.status?u.status:null)}d.inherits(L,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:d.toJSONObject(this.config),code:this.code,status:this.status}}});const On=L.prototype,En={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{En[r]={value:r}});Object.defineProperties(L,En);Object.defineProperty(On,"isAxiosError",{value:!0});L.from=(r,i,s,a,u,h)=>{const f=Object.create(On);return d.toFlatObject(r,f,function(m){return m!==Error.prototype},v=>v!=="isAxiosError"),L.call(f,r.message,i,s,a,u),f.cause=r,f.name=r.name,h&&Object.assign(f,h),f};const Us=null;function he(r){return d.isPlainObject(r)||d.isArray(r)}function xn(r){return d.endsWith(r,"[]")?r.slice(0,-2):r}function rn(r,i,s){return r?r.concat(i).map(function(u,h){return u=xn(u),!s&&h?"["+u+"]":u}).join(s?".":""):i}function Ds(r){return d.isArray(r)&&!r.some(he)}const qs=d.toFlatObject(d,{},null,function(i){return/^is[A-Z]/.test(i)});function Jt(r,i,s){if(!d.isObject(r))throw new TypeError("target must be an object");i=i||new FormData,s=d.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,y){return!d.isUndefined(y[w])});const a=s.metaTokens,u=s.visitor||g,h=s.dots,f=s.indexes,m=(s.Blob||typeof Blob<"u"&&Blob)&&d.isSpecCompliantForm(i);if(!d.isFunction(u))throw new TypeError("visitor must be a function");function _(C){if(C===null)return"";if(d.isDate(C))return C.toISOString();if(d.isBoolean(C))return C.toString();if(!m&&d.isBlob(C))throw new L("Blob is not supported. Use a Buffer instead.");return d.isArrayBuffer(C)||d.isTypedArray(C)?m&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function g(C,w,y){let b=C;if(C&&!y&&typeof C=="object"){if(d.endsWith(w,"{}"))w=a?w:w.slice(0,-2),C=JSON.stringify(C);else if(d.isArray(C)&&Ds(C)||(d.isFileList(C)||d.endsWith(w,"[]"))&&(b=d.toArray(C)))return w=xn(w),b.forEach(function(R,I){!(d.isUndefined(R)||R===null)&&i.append(f===!0?rn([w],I,h):f===null?w:w+"[]",_(R))}),!1}return he(C)?!0:(i.append(rn(y,w,h),_(C)),!1)}const k=[],P=Object.assign(qs,{defaultVisitor:g,convertValue:_,isVisitable:he});function E(C,w){if(!d.isUndefined(C)){if(k.indexOf(C)!==-1)throw Error("Circular reference detected in "+w.join("."));k.push(C),d.forEach(C,function(b,O){(!(d.isUndefined(b)||b===null)&&u.call(i,b,d.isString(O)?O.trim():O,w,P))===!0&&E(b,w?w.concat(O):[O])}),k.pop()}}if(!d.isObject(r))throw new TypeError("data must be an object");return E(r),i}function on(r){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(a){return i[a]})}function me(r,i){this._pairs=[],r&&Jt(r,this,i)}const Rn=me.prototype;Rn.append=function(i,s){this._pairs.push([i,s])};Rn.toString=function(i){const s=i?function(a){return i.call(this,a,on)}:on;return this._pairs.map(function(u){return s(u[0])+"="+s(u[1])},"").join("&")};function Fs(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function An(r,i,s){if(!i)return r;const a=s&&s.encode||Fs;d.isFunction(s)&&(s={serialize:s});const u=s&&s.serialize;let h;if(u?h=u(i,s):h=d.isURLSearchParams(i)?i.toString():new me(i,s).toString(a),h){const f=r.indexOf("#");f!==-1&&(r=r.slice(0,f)),r+=(r.indexOf("?")===-1?"?":"&")+h}return r}class Bs{constructor(){this.handlers=[]}use(i,s,a){return this.handlers.push({fulfilled:i,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){d.forEach(this.handlers,function(a){a!==null&&i(a)})}}const sn=Bs,Ln={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hs=typeof URLSearchParams<"u"?URLSearchParams:me,Ms=typeof FormData<"u"?FormData:null,zs=typeof Blob<"u"?Blob:null,Js={isBrowser:!0,classes:{URLSearchParams:Hs,FormData:Ms,Blob:zs},protocols:["http","https","file","blob","url","data"]},be=typeof window<"u"&&typeof document<"u",fe=typeof navigator=="object"&&navigator||void 0,Xs=be&&(!fe||["ReactNative","NativeScript","NS"].indexOf(fe.product)<0),Ws=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Vs=be&&window.location.href||"http://localhost",$s=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:be,hasStandardBrowserEnv:Xs,hasStandardBrowserWebWorkerEnv:Ws,navigator:fe,origin:Vs},Symbol.toStringTag,{value:"Module"})),J={...$s,...Js};function Ks(r,i){return Jt(r,new J.classes.URLSearchParams,{visitor:function(s,a,u,h){return J.isNode&&d.isBuffer(s)?(this.append(a,s.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)},...i})}function Gs(r){return d.matchAll(/\w+|\[(\w*)]/g,r).map(i=>i[0]==="[]"?"":i[1]||i[0])}function Qs(r){const i={},s=Object.keys(r);let a;const u=s.length;let h;for(a=0;a<u;a++)h=s[a],i[h]=r[h];return i}function Nn(r){function i(s,a,u,h){let f=s[h++];if(f==="__proto__")return!0;const v=Number.isFinite(+f),m=h>=s.length;return f=!f&&d.isArray(u)?u.length:f,m?(d.hasOwnProp(u,f)?u[f]=[u[f],a]:u[f]=a,!v):((!u[f]||!d.isObject(u[f]))&&(u[f]=[]),i(s,a,u[f],h)&&d.isArray(u[f])&&(u[f]=Qs(u[f])),!v)}if(d.isFormData(r)&&d.isFunction(r.entries)){const s={};return d.forEachEntry(r,(a,u)=>{i(Gs(a),u,s,0)}),s}return null}function Ys(r,i,s){if(d.isString(r))try{return(i||JSON.parse)(r),d.trim(r)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(r)}const _e={transitional:Ln,adapter:["xhr","http","fetch"],transformRequest:[function(i,s){const a=s.getContentType()||"",u=a.indexOf("application/json")>-1,h=d.isObject(i);if(h&&d.isHTMLForm(i)&&(i=new FormData(i)),d.isFormData(i))return u?JSON.stringify(Nn(i)):i;if(d.isArrayBuffer(i)||d.isBuffer(i)||d.isStream(i)||d.isFile(i)||d.isBlob(i)||d.isReadableStream(i))return i;if(d.isArrayBufferView(i))return i.buffer;if(d.isURLSearchParams(i))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let v;if(h){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Ks(i,this.formSerializer).toString();if((v=d.isFileList(i))||a.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Jt(v?{"files[]":i}:i,m&&new m,this.formSerializer)}}return h||u?(s.setContentType("application/json",!1),Ys(i)):i}],transformResponse:[function(i){const s=this.transitional||_e.transitional,a=s&&s.forcedJSONParsing,u=this.responseType==="json";if(d.isResponse(i)||d.isReadableStream(i))return i;if(i&&d.isString(i)&&(a&&!this.responseType||u)){const f=!(s&&s.silentJSONParsing)&&u;try{return JSON.parse(i)}catch(v){if(f)throw v.name==="SyntaxError"?L.from(v,L.ERR_BAD_RESPONSE,this,null,this.response):v}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:J.classes.FormData,Blob:J.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};d.forEach(["delete","get","head","post","put","patch"],r=>{_e.headers[r]={}});const we=_e,Zs=d.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ta=r=>{const i={};let s,a,u;return r&&r.split(`
`).forEach(function(f){u=f.indexOf(":"),s=f.substring(0,u).trim().toLowerCase(),a=f.substring(u+1).trim(),!(!s||i[s]&&Zs[s])&&(s==="set-cookie"?i[s]?i[s].push(a):i[s]=[a]:i[s]=i[s]?i[s]+", "+a:a)}),i},an=Symbol("internals");function bt(r){return r&&String(r).trim().toLowerCase()}function Lt(r){return r===!1||r==null?r:d.isArray(r)?r.map(Lt):String(r)}function ea(r){const i=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(r);)i[a[1]]=a[2];return i}const na=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function ae(r,i,s,a,u){if(d.isFunction(a))return a.call(this,i,s);if(u&&(i=s),!!d.isString(i)){if(d.isString(a))return i.indexOf(a)!==-1;if(d.isRegExp(a))return a.test(i)}}function ra(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,s,a)=>s.toUpperCase()+a)}function ia(r,i){const s=d.toCamelCase(" "+i);["get","set","has"].forEach(a=>{Object.defineProperty(r,a+s,{value:function(u,h,f){return this[a].call(this,i,u,h,f)},configurable:!0})})}class Xt{constructor(i){i&&this.set(i)}set(i,s,a){const u=this;function h(v,m,_){const g=bt(m);if(!g)throw new Error("header name must be a non-empty string");const k=d.findKey(u,g);(!k||u[k]===void 0||_===!0||_===void 0&&u[k]!==!1)&&(u[k||m]=Lt(v))}const f=(v,m)=>d.forEach(v,(_,g)=>h(_,g,m));if(d.isPlainObject(i)||i instanceof this.constructor)f(i,s);else if(d.isString(i)&&(i=i.trim())&&!na(i))f(ta(i),s);else if(d.isObject(i)&&d.isIterable(i)){let v={},m,_;for(const g of i){if(!d.isArray(g))throw TypeError("Object iterator must return a key-value pair");v[_=g[0]]=(m=v[_])?d.isArray(m)?[...m,g[1]]:[m,g[1]]:g[1]}f(v,s)}else i!=null&&h(s,i,a);return this}get(i,s){if(i=bt(i),i){const a=d.findKey(this,i);if(a){const u=this[a];if(!s)return u;if(s===!0)return ea(u);if(d.isFunction(s))return s.call(this,u,a);if(d.isRegExp(s))return s.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,s){if(i=bt(i),i){const a=d.findKey(this,i);return!!(a&&this[a]!==void 0&&(!s||ae(this,this[a],a,s)))}return!1}delete(i,s){const a=this;let u=!1;function h(f){if(f=bt(f),f){const v=d.findKey(a,f);v&&(!s||ae(a,a[v],v,s))&&(delete a[v],u=!0)}}return d.isArray(i)?i.forEach(h):h(i),u}clear(i){const s=Object.keys(this);let a=s.length,u=!1;for(;a--;){const h=s[a];(!i||ae(this,this[h],h,i,!0))&&(delete this[h],u=!0)}return u}normalize(i){const s=this,a={};return d.forEach(this,(u,h)=>{const f=d.findKey(a,h);if(f){s[f]=Lt(u),delete s[h];return}const v=i?ra(h):String(h).trim();v!==h&&delete s[h],s[v]=Lt(u),a[v]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const s=Object.create(null);return d.forEach(this,(a,u)=>{a!=null&&a!==!1&&(s[u]=i&&d.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,s])=>i+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...s){const a=new this(i);return s.forEach(u=>a.set(u)),a}static accessor(i){const a=(this[an]=this[an]={accessors:{}}).accessors,u=this.prototype;function h(f){const v=bt(f);a[v]||(ia(u,f),a[v]=!0)}return d.isArray(i)?i.forEach(h):h(i),this}}Xt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);d.reduceDescriptors(Xt.prototype,({value:r},i)=>{let s=i[0].toUpperCase()+i.slice(1);return{get:()=>r,set(a){this[s]=a}}});d.freezeMethods(Xt);const Q=Xt;function ce(r,i){const s=this||we,a=i||s,u=Q.from(a.headers);let h=a.data;return d.forEach(r,function(v){h=v.call(s,h,u.normalize(),i?i.status:void 0)}),u.normalize(),h}function jn(r){return!!(r&&r.__CANCEL__)}function dt(r,i,s){L.call(this,r??"canceled",L.ERR_CANCELED,i,s),this.name="CanceledError"}d.inherits(dt,L,{__CANCEL__:!0});function In(r,i,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?r(s):i(new L("Request failed with status code "+s.status,[L.ERR_BAD_REQUEST,L.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function oa(r){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}function sa(r,i){r=r||10;const s=new Array(r),a=new Array(r);let u=0,h=0,f;return i=i!==void 0?i:1e3,function(m){const _=Date.now(),g=a[h];f||(f=_),s[u]=m,a[u]=_;let k=h,P=0;for(;k!==u;)P+=s[k++],k=k%r;if(u=(u+1)%r,u===h&&(h=(h+1)%r),_-f<i)return;const E=g&&_-g;return E?Math.round(P*1e3/E):void 0}}function aa(r,i){let s=0,a=1e3/i,u,h;const f=(_,g=Date.now())=>{s=g,u=null,h&&(clearTimeout(h),h=null),r(..._)};return[(..._)=>{const g=Date.now(),k=g-s;k>=a?f(_,g):(u=_,h||(h=setTimeout(()=>{h=null,f(u)},a-k)))},()=>u&&f(u)]}const It=(r,i,s=3)=>{let a=0;const u=sa(50,250);return aa(h=>{const f=h.loaded,v=h.lengthComputable?h.total:void 0,m=f-a,_=u(m),g=f<=v;a=f;const k={loaded:f,total:v,progress:v?f/v:void 0,bytes:m,rate:_||void 0,estimated:_&&v&&g?(v-f)/_:void 0,event:h,lengthComputable:v!=null,[i?"download":"upload"]:!0};r(k)},s)},cn=(r,i)=>{const s=r!=null;return[a=>i[0]({lengthComputable:s,total:r,loaded:a}),i[1]]},un=r=>(...i)=>d.asap(()=>r(...i)),ca=J.hasStandardBrowserEnv?((r,i)=>s=>(s=new URL(s,J.origin),r.protocol===s.protocol&&r.host===s.host&&(i||r.port===s.port)))(new URL(J.origin),J.navigator&&/(msie|trident)/i.test(J.navigator.userAgent)):()=>!0,ua=J.hasStandardBrowserEnv?{write(r,i,s,a,u,h){const f=[r+"="+encodeURIComponent(i)];d.isNumber(s)&&f.push("expires="+new Date(s).toGMTString()),d.isString(a)&&f.push("path="+a),d.isString(u)&&f.push("domain="+u),h===!0&&f.push("secure"),document.cookie=f.join("; ")},read(r){const i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function la(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function ha(r,i){return i?r.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):r}function Un(r,i,s){let a=!la(i);return r&&(a||s==!1)?ha(r,i):i}const ln=r=>r instanceof Q?{...r}:r;function lt(r,i){i=i||{};const s={};function a(_,g,k,P){return d.isPlainObject(_)&&d.isPlainObject(g)?d.merge.call({caseless:P},_,g):d.isPlainObject(g)?d.merge({},g):d.isArray(g)?g.slice():g}function u(_,g,k,P){if(d.isUndefined(g)){if(!d.isUndefined(_))return a(void 0,_,k,P)}else return a(_,g,k,P)}function h(_,g){if(!d.isUndefined(g))return a(void 0,g)}function f(_,g){if(d.isUndefined(g)){if(!d.isUndefined(_))return a(void 0,_)}else return a(void 0,g)}function v(_,g,k){if(k in i)return a(_,g);if(k in r)return a(void 0,_)}const m={url:h,method:h,data:h,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:v,headers:(_,g,k)=>u(ln(_),ln(g),k,!0)};return d.forEach(Object.keys({...r,...i}),function(g){const k=m[g]||u,P=k(r[g],i[g],g);d.isUndefined(P)&&k!==v||(s[g]=P)}),s}const Dn=r=>{const i=lt({},r);let{data:s,withXSRFToken:a,xsrfHeaderName:u,xsrfCookieName:h,headers:f,auth:v}=i;i.headers=f=Q.from(f),i.url=An(Un(i.baseURL,i.url,i.allowAbsoluteUrls),r.params,r.paramsSerializer),v&&f.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):"")));let m;if(d.isFormData(s)){if(J.hasStandardBrowserEnv||J.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((m=f.getContentType())!==!1){const[_,...g]=m?m.split(";").map(k=>k.trim()).filter(Boolean):[];f.setContentType([_||"multipart/form-data",...g].join("; "))}}if(J.hasStandardBrowserEnv&&(a&&d.isFunction(a)&&(a=a(i)),a||a!==!1&&ca(i.url))){const _=u&&h&&ua.read(h);_&&f.set(u,_)}return i},fa=typeof XMLHttpRequest<"u",pa=fa&&function(r){return new Promise(function(s,a){const u=Dn(r);let h=u.data;const f=Q.from(u.headers).normalize();let{responseType:v,onUploadProgress:m,onDownloadProgress:_}=u,g,k,P,E,C;function w(){E&&E(),C&&C(),u.cancelToken&&u.cancelToken.unsubscribe(g),u.signal&&u.signal.removeEventListener("abort",g)}let y=new XMLHttpRequest;y.open(u.method.toUpperCase(),u.url,!0),y.timeout=u.timeout;function b(){if(!y)return;const R=Q.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!v||v==="text"||v==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:R,config:r,request:y};In(function(M){s(M),w()},function(M){a(M),w()},j),y=null}"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(a(new L("Request aborted",L.ECONNABORTED,r,y)),y=null)},y.onerror=function(){a(new L("Network Error",L.ERR_NETWORK,r,y)),y=null},y.ontimeout=function(){let I=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const j=u.transitional||Ln;u.timeoutErrorMessage&&(I=u.timeoutErrorMessage),a(new L(I,j.clarifyTimeoutError?L.ETIMEDOUT:L.ECONNABORTED,r,y)),y=null},h===void 0&&f.setContentType(null),"setRequestHeader"in y&&d.forEach(f.toJSON(),function(I,j){y.setRequestHeader(j,I)}),d.isUndefined(u.withCredentials)||(y.withCredentials=!!u.withCredentials),v&&v!=="json"&&(y.responseType=u.responseType),_&&([P,C]=It(_,!0),y.addEventListener("progress",P)),m&&y.upload&&([k,E]=It(m),y.upload.addEventListener("progress",k),y.upload.addEventListener("loadend",E)),(u.cancelToken||u.signal)&&(g=R=>{y&&(a(!R||R.type?new dt(null,r,y):R),y.abort(),y=null)},u.cancelToken&&u.cancelToken.subscribe(g),u.signal&&(u.signal.aborted?g():u.signal.addEventListener("abort",g)));const O=oa(u.url);if(O&&J.protocols.indexOf(O)===-1){a(new L("Unsupported protocol "+O+":",L.ERR_BAD_REQUEST,r));return}y.send(h||null)})},da=(r,i)=>{const{length:s}=r=r?r.filter(Boolean):[];if(i||s){let a=new AbortController,u;const h=function(_){if(!u){u=!0,v();const g=_ instanceof Error?_:this.reason;a.abort(g instanceof L?g:new dt(g instanceof Error?g.message:g))}};let f=i&&setTimeout(()=>{f=null,h(new L(`timeout ${i} of ms exceeded`,L.ETIMEDOUT))},i);const v=()=>{r&&(f&&clearTimeout(f),f=null,r.forEach(_=>{_.unsubscribe?_.unsubscribe(h):_.removeEventListener("abort",h)}),r=null)};r.forEach(_=>_.addEventListener("abort",h));const{signal:m}=a;return m.unsubscribe=()=>d.asap(v),m}},ya=da,va=function*(r,i){let s=r.byteLength;if(!i||s<i){yield r;return}let a=0,u;for(;a<s;)u=a+i,yield r.slice(a,u),a=u},ga=async function*(r,i){for await(const s of ma(r))yield*va(s,i)},ma=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const i=r.getReader();try{for(;;){const{done:s,value:a}=await i.read();if(s)break;yield a}}finally{await i.cancel()}},hn=(r,i,s,a)=>{const u=ga(r,i);let h=0,f,v=m=>{f||(f=!0,a&&a(m))};return new ReadableStream({async pull(m){try{const{done:_,value:g}=await u.next();if(_){v(),m.close();return}let k=g.byteLength;if(s){let P=h+=k;s(P)}m.enqueue(new Uint8Array(g))}catch(_){throw v(_),_}},cancel(m){return v(m),u.return()}},{highWaterMark:2})},Wt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",qn=Wt&&typeof ReadableStream=="function",ba=Wt&&(typeof TextEncoder=="function"?(r=>i=>r.encode(i))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Fn=(r,...i)=>{try{return!!r(...i)}catch{return!1}},_a=qn&&Fn(()=>{let r=!1;const i=new Request(J.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!i}),fn=64*1024,pe=qn&&Fn(()=>d.isReadableStream(new Response("").body)),Ut={stream:pe&&(r=>r.body)};Wt&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!Ut[i]&&(Ut[i]=d.isFunction(r[i])?s=>s[i]():(s,a)=>{throw new L(`Response type '${i}' is not supported`,L.ERR_NOT_SUPPORT,a)})})})(new Response);const wa=async r=>{if(r==null)return 0;if(d.isBlob(r))return r.size;if(d.isSpecCompliantForm(r))return(await new Request(J.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(d.isArrayBufferView(r)||d.isArrayBuffer(r))return r.byteLength;if(d.isURLSearchParams(r)&&(r=r+""),d.isString(r))return(await ba(r)).byteLength},Sa=async(r,i)=>{const s=d.toFiniteNumber(r.getContentLength());return s??wa(i)},ka=Wt&&(async r=>{let{url:i,method:s,data:a,signal:u,cancelToken:h,timeout:f,onDownloadProgress:v,onUploadProgress:m,responseType:_,headers:g,withCredentials:k="same-origin",fetchOptions:P}=Dn(r);_=_?(_+"").toLowerCase():"text";let E=ya([u,h&&h.toAbortSignal()],f),C;const w=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let y;try{if(m&&_a&&s!=="get"&&s!=="head"&&(y=await Sa(g,a))!==0){let j=new Request(i,{method:"POST",body:a,duplex:"half"}),D;if(d.isFormData(a)&&(D=j.headers.get("content-type"))&&g.setContentType(D),j.body){const[M,X]=cn(y,It(un(m)));a=hn(j.body,fn,M,X)}}d.isString(k)||(k=k?"include":"omit");const b="credentials"in Request.prototype;C=new Request(i,{...P,signal:E,method:s.toUpperCase(),headers:g.normalize().toJSON(),body:a,duplex:"half",credentials:b?k:void 0});let O=await fetch(C,P);const R=pe&&(_==="stream"||_==="response");if(pe&&(v||R&&w)){const j={};["status","statusText","headers"].forEach(W=>{j[W]=O[W]});const D=d.toFiniteNumber(O.headers.get("content-length")),[M,X]=v&&cn(D,It(un(v),!0))||[];O=new Response(hn(O.body,fn,M,()=>{X&&X(),w&&w()}),j)}_=_||"text";let I=await Ut[d.findKey(Ut,_)||"text"](O,r);return!R&&w&&w(),await new Promise((j,D)=>{In(j,D,{data:I,headers:Q.from(O.headers),status:O.status,statusText:O.statusText,config:r,request:C})})}catch(b){throw w&&w(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new L("Network Error",L.ERR_NETWORK,r,C),{cause:b.cause||b}):L.from(b,b&&b.code,r,C)}}),de={http:Us,xhr:pa,fetch:ka};d.forEach(de,(r,i)=>{if(r){try{Object.defineProperty(r,"name",{value:i})}catch{}Object.defineProperty(r,"adapterName",{value:i})}});const pn=r=>`- ${r}`,Ca=r=>d.isFunction(r)||r===null||r===!1,Bn={getAdapter:r=>{r=d.isArray(r)?r:[r];const{length:i}=r;let s,a;const u={};for(let h=0;h<i;h++){s=r[h];let f;if(a=s,!Ca(s)&&(a=de[(f=String(s)).toLowerCase()],a===void 0))throw new L(`Unknown adapter '${f}'`);if(a)break;u[f||"#"+h]=a}if(!a){const h=Object.entries(u).map(([v,m])=>`adapter ${v} `+(m===!1?"is not supported by the environment":"is not available in the build"));let f=i?h.length>1?`since :
`+h.map(pn).join(`
`):" "+pn(h[0]):"as no adapter specified";throw new L("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a},adapters:de};function ue(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new dt(null,r)}function dn(r){return ue(r),r.headers=Q.from(r.headers),r.data=ce.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Bn.getAdapter(r.adapter||we.adapter)(r).then(function(a){return ue(r),a.data=ce.call(r,r.transformResponse,a),a.headers=Q.from(a.headers),a},function(a){return jn(a)||(ue(r),a&&a.response&&(a.response.data=ce.call(r,r.transformResponse,a.response),a.response.headers=Q.from(a.response.headers))),Promise.reject(a)})}const Hn="1.11.0",Vt={};["object","boolean","number","function","string","symbol"].forEach((r,i)=>{Vt[r]=function(a){return typeof a===r||"a"+(i<1?"n ":" ")+r}});const yn={};Vt.transitional=function(i,s,a){function u(h,f){return"[Axios v"+Hn+"] Transitional option '"+h+"'"+f+(a?". "+a:"")}return(h,f,v)=>{if(i===!1)throw new L(u(f," has been removed"+(s?" in "+s:"")),L.ERR_DEPRECATED);return s&&!yn[f]&&(yn[f]=!0,console.warn(u(f," has been deprecated since v"+s+" and will be removed in the near future"))),i?i(h,f,v):!0}};Vt.spelling=function(i){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${i}`),!0)};function Ta(r,i,s){if(typeof r!="object")throw new L("options must be an object",L.ERR_BAD_OPTION_VALUE);const a=Object.keys(r);let u=a.length;for(;u-- >0;){const h=a[u],f=i[h];if(f){const v=r[h],m=v===void 0||f(v,h,r);if(m!==!0)throw new L("option "+h+" must be "+m,L.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new L("Unknown option "+h,L.ERR_BAD_OPTION)}}const Nt={assertOptions:Ta,validators:Vt},et=Nt.validators;class Dt{constructor(i){this.defaults=i||{},this.interceptors={request:new sn,response:new sn}}async request(i,s){try{return await this._request(i,s)}catch(a){if(a instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const h=u.stack?u.stack.replace(/^.+\n/,""):"";try{a.stack?h&&!String(a.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+h):a.stack=h}catch{}}throw a}}_request(i,s){typeof i=="string"?(s=s||{},s.url=i):s=i||{},s=lt(this.defaults,s);const{transitional:a,paramsSerializer:u,headers:h}=s;a!==void 0&&Nt.assertOptions(a,{silentJSONParsing:et.transitional(et.boolean),forcedJSONParsing:et.transitional(et.boolean),clarifyTimeoutError:et.transitional(et.boolean)},!1),u!=null&&(d.isFunction(u)?s.paramsSerializer={serialize:u}:Nt.assertOptions(u,{encode:et.function,serialize:et.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Nt.assertOptions(s,{baseUrl:et.spelling("baseURL"),withXsrfToken:et.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let f=h&&d.merge(h.common,h[s.method]);h&&d.forEach(["delete","get","head","post","put","patch","common"],C=>{delete h[C]}),s.headers=Q.concat(f,h);const v=[];let m=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(s)===!1||(m=m&&w.synchronous,v.unshift(w.fulfilled,w.rejected))});const _=[];this.interceptors.response.forEach(function(w){_.push(w.fulfilled,w.rejected)});let g,k=0,P;if(!m){const C=[dn.bind(this),void 0];for(C.unshift(...v),C.push(..._),P=C.length,g=Promise.resolve(s);k<P;)g=g.then(C[k++],C[k++]);return g}P=v.length;let E=s;for(k=0;k<P;){const C=v[k++],w=v[k++];try{E=C(E)}catch(y){w.call(this,y);break}}try{g=dn.call(this,E)}catch(C){return Promise.reject(C)}for(k=0,P=_.length;k<P;)g=g.then(_[k++],_[k++]);return g}getUri(i){i=lt(this.defaults,i);const s=Un(i.baseURL,i.url,i.allowAbsoluteUrls);return An(s,i.params,i.paramsSerializer)}}d.forEach(["delete","get","head","options"],function(i){Dt.prototype[i]=function(s,a){return this.request(lt(a||{},{method:i,url:s,data:(a||{}).data}))}});d.forEach(["post","put","patch"],function(i){function s(a){return function(h,f,v){return this.request(lt(v||{},{method:i,headers:a?{"Content-Type":"multipart/form-data"}:{},url:h,data:f}))}}Dt.prototype[i]=s(),Dt.prototype[i+"Form"]=s(!0)});const jt=Dt;class Se{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(h){s=h});const a=this;this.promise.then(u=>{if(!a._listeners)return;let h=a._listeners.length;for(;h-- >0;)a._listeners[h](u);a._listeners=null}),this.promise.then=u=>{let h;const f=new Promise(v=>{a.subscribe(v),h=v}).then(u);return f.cancel=function(){a.unsubscribe(h)},f},i(function(h,f,v){a.reason||(a.reason=new dt(h,f,v),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const s=this._listeners.indexOf(i);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const i=new AbortController,s=a=>{i.abort(a)};return this.subscribe(s),i.signal.unsubscribe=()=>this.unsubscribe(s),i.signal}static source(){let i;return{token:new Se(function(u){i=u}),cancel:i}}}const Pa=Se;function Oa(r){return function(s){return r.apply(null,s)}}function Ea(r){return d.isObject(r)&&r.isAxiosError===!0}const ye={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ye).forEach(([r,i])=>{ye[i]=r});const xa=ye;function Mn(r){const i=new jt(r),s=bn(jt.prototype.request,i);return d.extend(s,jt.prototype,i,{allOwnKeys:!0}),d.extend(s,i,null,{allOwnKeys:!0}),s.create=function(u){return Mn(lt(r,u))},s}const F=Mn(we);F.Axios=jt;F.CanceledError=dt;F.CancelToken=Pa;F.isCancel=jn;F.VERSION=Hn;F.toFormData=Jt;F.AxiosError=L;F.Cancel=F.CanceledError;F.all=function(i){return Promise.all(i)};F.spread=Oa;F.isAxiosError=Ea;F.mergeConfig=lt;F.AxiosHeaders=Q;F.formToJSON=r=>Nn(d.isHTMLForm(r)?new FormData(r):r);F.getAdapter=Bn.getAdapter;F.HttpStatusCode=xa;F.default=F;const zn=F;function Ra(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jn={exports:{}};/*!
 * Pusher JavaScript Library v7.6.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(r,i){(function(a,u){r.exports=u()})(window,function(){return function(s){var a={};function u(h){if(a[h])return a[h].exports;var f=a[h]={i:h,l:!1,exports:{}};return s[h].call(f.exports,f,f.exports,u),f.l=!0,f.exports}return u.m=s,u.c=a,u.d=function(h,f,v){u.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:v})},u.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},u.t=function(h,f){if(f&1&&(h=u(h)),f&8||f&4&&typeof h=="object"&&h&&h.__esModule)return h;var v=Object.create(null);if(u.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:h}),f&2&&typeof h!="string")for(var m in h)u.d(v,m,(function(_){return h[_]}).bind(null,m));return v},u.n=function(h){var f=h&&h.__esModule?function(){return h.default}:function(){return h};return u.d(f,"a",f),f},u.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},u.p="",u(u.s=2)}([function(s,a,u){var h=this&&this.__extends||function(){var w=function(y,b){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,R){O.__proto__=R}||function(O,R){for(var I in R)R.hasOwnProperty(I)&&(O[I]=R[I])},w(y,b)};return function(y,b){w(y,b);function O(){this.constructor=y}y.prototype=b===null?Object.create(b):(O.prototype=b.prototype,new O)}}();Object.defineProperty(a,"__esModule",{value:!0});var f=256,v=function(){function w(y){y===void 0&&(y="="),this._paddingCharacter=y}return w.prototype.encodedLength=function(y){return this._paddingCharacter?(y+2)/3*4|0:(y*8+5)/6|0},w.prototype.encode=function(y){for(var b="",O=0;O<y.length-2;O+=3){var R=y[O]<<16|y[O+1]<<8|y[O+2];b+=this._encodeByte(R>>>3*6&63),b+=this._encodeByte(R>>>2*6&63),b+=this._encodeByte(R>>>1*6&63),b+=this._encodeByte(R>>>0*6&63)}var I=y.length-O;if(I>0){var R=y[O]<<16|(I===2?y[O+1]<<8:0);b+=this._encodeByte(R>>>3*6&63),b+=this._encodeByte(R>>>2*6&63),I===2?b+=this._encodeByte(R>>>1*6&63):b+=this._paddingCharacter||"",b+=this._paddingCharacter||""}return b},w.prototype.maxDecodedLength=function(y){return this._paddingCharacter?y/4*3|0:(y*6+7)/8|0},w.prototype.decodedLength=function(y){return this.maxDecodedLength(y.length-this._getPaddingLength(y))},w.prototype.decode=function(y){if(y.length===0)return new Uint8Array(0);for(var b=this._getPaddingLength(y),O=y.length-b,R=new Uint8Array(this.maxDecodedLength(O)),I=0,j=0,D=0,M=0,X=0,W=0,Z=0;j<O-4;j+=4)M=this._decodeChar(y.charCodeAt(j+0)),X=this._decodeChar(y.charCodeAt(j+1)),W=this._decodeChar(y.charCodeAt(j+2)),Z=this._decodeChar(y.charCodeAt(j+3)),R[I++]=M<<2|X>>>4,R[I++]=X<<4|W>>>2,R[I++]=W<<6|Z,D|=M&f,D|=X&f,D|=W&f,D|=Z&f;if(j<O-1&&(M=this._decodeChar(y.charCodeAt(j)),X=this._decodeChar(y.charCodeAt(j+1)),R[I++]=M<<2|X>>>4,D|=M&f,D|=X&f),j<O-2&&(W=this._decodeChar(y.charCodeAt(j+2)),R[I++]=X<<4|W>>>2,D|=W&f),j<O-3&&(Z=this._decodeChar(y.charCodeAt(j+3)),R[I++]=W<<6|Z,D|=Z&f),D!==0)throw new Error("Base64Coder: incorrect characters for decoding");return R},w.prototype._encodeByte=function(y){var b=y;return b+=65,b+=25-y>>>8&0-65-26+97,b+=51-y>>>8&26-97-52+48,b+=61-y>>>8&52-48-62+43,b+=62-y>>>8&62-43-63+47,String.fromCharCode(b)},w.prototype._decodeChar=function(y){var b=f;return b+=(42-y&y-44)>>>8&-f+y-43+62,b+=(46-y&y-48)>>>8&-f+y-47+63,b+=(47-y&y-58)>>>8&-f+y-48+52,b+=(64-y&y-91)>>>8&-f+y-65+0,b+=(96-y&y-123)>>>8&-f+y-97+26,b},w.prototype._getPaddingLength=function(y){var b=0;if(this._paddingCharacter){for(var O=y.length-1;O>=0&&y[O]===this._paddingCharacter;O--)b++;if(y.length<4||b>2)throw new Error("Base64Coder: incorrect padding")}return b},w}();a.Coder=v;var m=new v;function _(w){return m.encode(w)}a.encode=_;function g(w){return m.decode(w)}a.decode=g;var k=function(w){h(y,w);function y(){return w!==null&&w.apply(this,arguments)||this}return y.prototype._encodeByte=function(b){var O=b;return O+=65,O+=25-b>>>8&0-65-26+97,O+=51-b>>>8&26-97-52+48,O+=61-b>>>8&52-48-62+45,O+=62-b>>>8&62-45-63+95,String.fromCharCode(O)},y.prototype._decodeChar=function(b){var O=f;return O+=(44-b&b-46)>>>8&-f+b-45+62,O+=(94-b&b-96)>>>8&-f+b-95+63,O+=(47-b&b-58)>>>8&-f+b-48+52,O+=(64-b&b-91)>>>8&-f+b-65+0,O+=(96-b&b-123)>>>8&-f+b-97+26,O},y}(v);a.URLSafeCoder=k;var P=new k;function E(w){return P.encode(w)}a.encodeURLSafe=E;function C(w){return P.decode(w)}a.decodeURLSafe=C,a.encodedLength=function(w){return m.encodedLength(w)},a.maxDecodedLength=function(w){return m.maxDecodedLength(w)},a.decodedLength=function(w){return m.decodedLength(w)}},function(s,a,u){Object.defineProperty(a,"__esModule",{value:!0});var h="utf8: invalid string",f="utf8: invalid source encoding";function v(g){for(var k=new Uint8Array(m(g)),P=0,E=0;E<g.length;E++){var C=g.charCodeAt(E);C<128?k[P++]=C:C<2048?(k[P++]=192|C>>6,k[P++]=128|C&63):C<55296?(k[P++]=224|C>>12,k[P++]=128|C>>6&63,k[P++]=128|C&63):(E++,C=(C&1023)<<10,C|=g.charCodeAt(E)&1023,C+=65536,k[P++]=240|C>>18,k[P++]=128|C>>12&63,k[P++]=128|C>>6&63,k[P++]=128|C&63)}return k}a.encode=v;function m(g){for(var k=0,P=0;P<g.length;P++){var E=g.charCodeAt(P);if(E<128)k+=1;else if(E<2048)k+=2;else if(E<55296)k+=3;else if(E<=57343){if(P>=g.length-1)throw new Error(h);P++,k+=4}else throw new Error(h)}return k}a.encodedLength=m;function _(g){for(var k=[],P=0;P<g.length;P++){var E=g[P];if(E&128){var C=void 0;if(E<224){if(P>=g.length)throw new Error(f);var w=g[++P];if((w&192)!==128)throw new Error(f);E=(E&31)<<6|w&63,C=128}else if(E<240){if(P>=g.length-1)throw new Error(f);var w=g[++P],y=g[++P];if((w&192)!==128||(y&192)!==128)throw new Error(f);E=(E&15)<<12|(w&63)<<6|y&63,C=2048}else if(E<248){if(P>=g.length-2)throw new Error(f);var w=g[++P],y=g[++P],b=g[++P];if((w&192)!==128||(y&192)!==128||(b&192)!==128)throw new Error(f);E=(E&15)<<18|(w&63)<<12|(y&63)<<6|b&63,C=65536}else throw new Error(f);if(E<C||E>=55296&&E<=57343)throw new Error(f);if(E>=65536){if(E>1114111)throw new Error(f);E-=65536,k.push(String.fromCharCode(55296|E>>10)),E=56320|E&1023}}k.push(String.fromCharCode(E))}return k.join("")}a.decode=_},function(s,a,u){s.exports=u(3).default},function(s,a,u){u.r(a);var h=function(){function e(t,n){this.lastId=0,this.prefix=t,this.name=n}return e.prototype.create=function(t){this.lastId++;var n=this.lastId,o=this.prefix+n,c=this.name+"["+n+"]",l=!1,p=function(){l||(t.apply(null,arguments),l=!0)};return this[n]=p,{number:n,id:o,name:c,callback:p}},e.prototype.remove=function(t){delete this[t.number]},e}(),f=new h("_pusher_script_","Pusher.ScriptReceivers"),v={VERSION:"7.6.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,cluster:"mt1",userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},m=v,_=function(){function e(t){this.options=t,this.receivers=t.receivers||f,this.loading={}}return e.prototype.load=function(t,n,o){var c=this;if(c.loading[t]&&c.loading[t].length>0)c.loading[t].push(o);else{c.loading[t]=[o];var l=A.createScriptRequest(c.getPath(t,n)),p=c.receivers.create(function(S){if(c.receivers.remove(p),c.loading[t]){var x=c.loading[t];delete c.loading[t];for(var T=function(q){q||l.cleanup()},N=0;N<x.length;N++)x[N](S,T)}});l.send(p)}},e.prototype.getRoot=function(t){var n,o=A.getDocument().location.protocol;return t&&t.useTLS||o==="https:"?n=this.options.cdn_https:n=this.options.cdn_http,n.replace(/\/*$/,"")+"/"+this.options.version},e.prototype.getPath=function(t,n){return this.getRoot(n)+"/"+t+this.options.suffix+".js"},e}(),g=_,k=new h("_pusher_dependencies","Pusher.DependenciesReceivers"),P=new g({cdn_http:m.cdn_http,cdn_https:m.cdn_https,version:m.VERSION,suffix:m.dependency_suffix,receivers:k}),E={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},C=function(e){var t="See:",n=E.urls[e];if(!n)return"";var o;return n.fullUrl?o=n.fullUrl:n.path&&(o=E.baseUrl+n.path),o?t+" "+o:""},w={buildLogSuffix:C},y;(function(e){e.UserAuthentication="user-authentication",e.ChannelAuthorization="channel-authorization"})(y||(y={}));var b=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},e(t,n)};return function(t,n){e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),O=function(e){b(t,e);function t(n){var o=this.constructor,c=e.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return t}(Error),R=function(e){b(t,e);function t(n){var o=this.constructor,c=e.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return t}(Error),I=function(e){b(t,e);function t(n){var o=this.constructor,c=e.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return t}(Error),j=function(e){b(t,e);function t(n){var o=this.constructor,c=e.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return t}(Error),D=function(e){b(t,e);function t(n){var o=this.constructor,c=e.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return t}(Error),M=function(e){b(t,e);function t(n){var o=this.constructor,c=e.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return t}(Error),X=function(e){b(t,e);function t(n){var o=this.constructor,c=e.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return t}(Error),W=function(e){b(t,e);function t(n){var o=this.constructor,c=e.call(this,n)||this;return Object.setPrototypeOf(c,o.prototype),c}return t}(Error),Z=function(e){b(t,e);function t(n,o){var c=this.constructor,l=e.call(this,o)||this;return l.status=n,Object.setPrototypeOf(l,c.prototype),l}return t}(Error),Gn=function(e,t,n,o,c){var l=A.createXHR();l.open("POST",n.endpoint,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var p in n.headers)l.setRequestHeader(p,n.headers[p]);if(n.headersProvider!=null){var S=n.headersProvider();for(var p in S)l.setRequestHeader(p,S[p])}return l.onreadystatechange=function(){if(l.readyState===4)if(l.status===200){var x=void 0,T=!1;try{x=JSON.parse(l.responseText),T=!0}catch{c(new Z(200,"JSON returned from "+o.toString()+" endpoint was invalid, yet status code was 200. Data was: "+l.responseText),null)}T&&c(null,x)}else{var N="";switch(o){case y.UserAuthentication:N=w.buildLogSuffix("authenticationEndpoint");break;case y.ChannelAuthorization:N="Clients must be authorized to join private or presence channels. "+w.buildLogSuffix("authorizationEndpoint");break}c(new Z(l.status,"Unable to retrieve auth string from "+o.toString()+" endpoint - "+("received status: "+l.status+" from "+n.endpoint+". "+N)),null)}},l.send(t),l},Qn=Gn;function Yn(e){return nr(tr(e))}var yt=String.fromCharCode,Pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zn=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?yt(192|t>>>6)+yt(128|t&63):yt(224|t>>>12&15)+yt(128|t>>>6&63)+yt(128|t&63)},tr=function(e){return e.replace(/[^\x00-\x7F]/g,Zn)},er=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),o=[Pt.charAt(n>>>18),Pt.charAt(n>>>12&63),t>=2?"=":Pt.charAt(n>>>6&63),t>=1?"=":Pt.charAt(n&63)];return o.join("")},nr=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,er)},rr=function(){function e(t,n,o,c){var l=this;this.clear=n,this.timer=t(function(){l.timer&&(l.timer=c(l.timer))},o)}return e.prototype.isRunning=function(){return this.timer!==null},e.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},e}(),Pe=rr,Oe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},e(t,n)};return function(t,n){e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}();function ir(e){window.clearTimeout(e)}function or(e){window.clearInterval(e)}var ot=function(e){Oe(t,e);function t(n,o){return e.call(this,setTimeout,ir,n,function(c){return o(),null})||this}return t}(Pe),sr=function(e){Oe(t,e);function t(n,o){return e.call(this,setInterval,or,n,function(c){return o(),c})||this}return t}(Pe),ar={now:function(){return Date.now?Date.now():new Date().valueOf()},defer:function(e){return new ot(0,e)},method:function(e){var t=Array.prototype.slice.call(arguments,1);return function(n){return n[e].apply(n,t.concat(arguments))}}},z=ar;function V(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var o=0;o<t.length;o++){var c=t[o];for(var l in c)c[l]&&c[l].constructor&&c[l].constructor===Object?e[l]=V(e[l]||{},c[l]):e[l]=c[l]}return e}function cr(){for(var e=["Pusher"],t=0;t<arguments.length;t++)typeof arguments[t]=="string"?e.push(arguments[t]):e.push(Ot(arguments[t]));return e.join(" : ")}function Ee(e,t){var n=Array.prototype.indexOf;if(e===null)return-1;if(n&&e.indexOf===n)return e.indexOf(t);for(var o=0,c=e.length;o<c;o++)if(e[o]===t)return o;return-1}function nt(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function xe(e){var t=[];return nt(e,function(n,o){t.push(o)}),t}function ur(e){var t=[];return nt(e,function(n){t.push(n)}),t}function vt(e,t,n){for(var o=0;o<e.length;o++)t.call(n||window,e[o],o,e)}function Re(e,t){for(var n=[],o=0;o<e.length;o++)n.push(t(e[o],o,e,n));return n}function lr(e,t){var n={};return nt(e,function(o,c){n[c]=t(o)}),n}function Ae(e,t){t=t||function(c){return!!c};for(var n=[],o=0;o<e.length;o++)t(e[o],o,e,n)&&n.push(e[o]);return n}function Le(e,t){var n={};return nt(e,function(o,c){(t&&t(o,c,e,n)||o)&&(n[c]=o)}),n}function hr(e){var t=[];return nt(e,function(n,o){t.push([o,n])}),t}function Ne(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1}function fr(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0}function pr(e){return lr(e,function(t){return typeof t=="object"&&(t=Ot(t)),encodeURIComponent(Yn(t.toString()))})}function dr(e){var t=Le(e,function(o){return o!==void 0}),n=Re(hr(pr(t)),z.method("join","=")).join("&");return n}function yr(e){var t=[],n=[];return function o(c,l){var p,S,x;switch(typeof c){case"object":if(!c)return null;for(p=0;p<t.length;p+=1)if(t[p]===c)return{$ref:n[p]};if(t.push(c),n.push(l),Object.prototype.toString.apply(c)==="[object Array]")for(x=[],p=0;p<c.length;p+=1)x[p]=o(c[p],l+"["+p+"]");else{x={};for(S in c)Object.prototype.hasOwnProperty.call(c,S)&&(x[S]=o(c[S],l+"["+JSON.stringify(S)+"]"))}return x;case"number":case"string":case"boolean":return c}}(e,"$")}function Ot(e){try{return JSON.stringify(e)}catch{return JSON.stringify(yr(e))}}var vr=function(){function e(){this.globalLog=function(t){window.console&&window.console.log&&window.console.log(t)}}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.log(this.globalLog,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.log(this.globalLogWarn,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.log(this.globalLogError,t)},e.prototype.globalLogWarn=function(t){window.console&&window.console.warn?window.console.warn(t):this.globalLog(t)},e.prototype.globalLogError=function(t){window.console&&window.console.error?window.console.error(t):this.globalLogWarn(t)},e.prototype.log=function(t){var n=cr.apply(this,arguments);if(ie.log)ie.log(n);else if(ie.logToConsole){var o=t.bind(this);o(n)}},e}(),U=new vr,gr=function(e,t,n,o,c){(n.headers!==void 0||n.headersProvider!=null)&&U.warn("To send headers with the "+o.toString()+" request, you must use AJAX, rather than JSONP.");var l=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var p=e.getDocument(),S=p.createElement("script");e.auth_callbacks[l]=function(N){c(null,N)};var x="Pusher.auth_callbacks['"+l+"']";S.src=n.endpoint+"?callback="+encodeURIComponent(x)+"&"+t;var T=p.getElementsByTagName("head")[0]||p.documentElement;T.insertBefore(S,T.firstChild)},mr=gr,br=function(){function e(t){this.src=t}return e.prototype.send=function(t){var n=this,o="Error loading "+n.src;n.script=document.createElement("script"),n.script.id=t.id,n.script.src=n.src,n.script.type="text/javascript",n.script.charset="UTF-8",n.script.addEventListener?(n.script.onerror=function(){t.callback(o)},n.script.onload=function(){t.callback(null)}):n.script.onreadystatechange=function(){(n.script.readyState==="loaded"||n.script.readyState==="complete")&&t.callback(null)},n.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(n.errorScript=document.createElement("script"),n.errorScript.id=t.id+"_error",n.errorScript.text=t.name+"('"+o+"');",n.script.async=n.errorScript.async=!1):n.script.async=!0;var c=document.getElementsByTagName("head")[0];c.insertBefore(n.script,c.firstChild),n.errorScript&&c.insertBefore(n.errorScript,n.script.nextSibling)},e.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},e}(),_r=br,wr=function(){function e(t,n){this.url=t,this.data=n}return e.prototype.send=function(t){if(!this.request){var n=dr(this.data),o=this.url+"/"+t.number+"?"+n;this.request=A.createScriptRequest(o),this.request.send(t)}},e.prototype.cleanup=function(){this.request&&this.request.cleanup()},e}(),Sr=wr,kr=function(e,t){return function(n,o){var c="http"+(t?"s":"")+"://",l=c+(e.host||e.options.host)+e.options.path,p=A.createJSONPRequest(l,n),S=A.ScriptReceivers.create(function(x,T){f.remove(S),p.cleanup(),T&&T.host&&(e.host=T.host),o&&o(x,T)});p.send(S)}},Cr={name:"jsonp",getAgent:kr},Tr=Cr;function $t(e,t,n){var o=e+(t.useTLS?"s":""),c=t.useTLS?t.hostTLS:t.hostNonTLS;return o+"://"+c+n}function Kt(e,t){var n="/app/"+e,o="?protocol="+m.PROTOCOL+"&client=js&version="+m.VERSION+(t?"&"+t:"");return n+o}var Pr={getInitial:function(e,t){var n=(t.httpPath||"")+Kt(e,"flash=false");return $t("ws",t,n)}},Or={getInitial:function(e,t){var n=(t.httpPath||"/pusher")+Kt(e);return $t("http",t,n)}},Er={getInitial:function(e,t){return $t("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return Kt(e)}},xr=function(){function e(){this._callbacks={}}return e.prototype.get=function(t){return this._callbacks[Gt(t)]},e.prototype.add=function(t,n,o){var c=Gt(t);this._callbacks[c]=this._callbacks[c]||[],this._callbacks[c].push({fn:n,context:o})},e.prototype.remove=function(t,n,o){if(!t&&!n&&!o){this._callbacks={};return}var c=t?[Gt(t)]:xe(this._callbacks);n||o?this.removeCallback(c,n,o):this.removeAllCallbacks(c)},e.prototype.removeCallback=function(t,n,o){vt(t,function(c){this._callbacks[c]=Ae(this._callbacks[c]||[],function(l){return n&&n!==l.fn||o&&o!==l.context}),this._callbacks[c].length===0&&delete this._callbacks[c]},this)},e.prototype.removeAllCallbacks=function(t){vt(t,function(n){delete this._callbacks[n]},this)},e}(),Rr=xr;function Gt(e){return"_"+e}var Ar=function(){function e(t){this.callbacks=new Rr,this.global_callbacks=[],this.failThrough=t}return e.prototype.bind=function(t,n,o){return this.callbacks.add(t,n,o),this},e.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},e.prototype.unbind=function(t,n,o){return this.callbacks.remove(t,n,o),this},e.prototype.unbind_global=function(t){return t?(this.global_callbacks=Ae(this.global_callbacks||[],function(n){return n!==t}),this):(this.global_callbacks=[],this)},e.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},e.prototype.emit=function(t,n,o){for(var c=0;c<this.global_callbacks.length;c++)this.global_callbacks[c](t,n);var l=this.callbacks.get(t),p=[];if(o?p.push(n,o):n&&p.push(n),l&&l.length>0)for(var c=0;c<l.length;c++)l[c].fn.apply(l[c].context||window,p);else this.failThrough&&this.failThrough(t,n);return this},e}(),rt=Ar,Lr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},e(t,n)};return function(t,n){e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nr=function(e){Lr(t,e);function t(n,o,c,l,p){var S=e.call(this)||this;return S.initialize=A.transportConnectionInitializer,S.hooks=n,S.name=o,S.priority=c,S.key=l,S.options=p,S.state="new",S.timeline=p.timeline,S.activityTimeout=p.activityTimeout,S.id=S.timeline.generateUniqueID(),S}return t.prototype.handlesActivityChecks=function(){return!!this.hooks.handlesActivityChecks},t.prototype.supportsPing=function(){return!!this.hooks.supportsPing},t.prototype.connect=function(){var n=this;if(this.socket||this.state!=="initialized")return!1;var o=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(o,this.options)}catch(c){return z.defer(function(){n.onError(c),n.changeState("closed")}),!1}return this.bindListeners(),U.debug("Connecting",{transport:this.name,url:o}),this.changeState("connecting"),!0},t.prototype.close=function(){return this.socket?(this.socket.close(),!0):!1},t.prototype.send=function(n){var o=this;return this.state==="open"?(z.defer(function(){o.socket&&o.socket.send(n)}),!0):!1},t.prototype.ping=function(){this.state==="open"&&this.supportsPing()&&this.socket.ping()},t.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},t.prototype.onError=function(n){this.emit("error",{type:"WebSocketError",error:n}),this.timeline.error(this.buildTimelineMessage({error:n.toString()}))},t.prototype.onClose=function(n){n?this.changeState("closed",{code:n.code,reason:n.reason,wasClean:n.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},t.prototype.onMessage=function(n){this.emit("message",n)},t.prototype.onActivity=function(){this.emit("activity")},t.prototype.bindListeners=function(){var n=this;this.socket.onopen=function(){n.onOpen()},this.socket.onerror=function(o){n.onError(o)},this.socket.onclose=function(o){n.onClose(o)},this.socket.onmessage=function(o){n.onMessage(o)},this.supportsPing()&&(this.socket.onactivity=function(){n.onActivity()})},t.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},t.prototype.changeState=function(n,o){this.state=n,this.timeline.info(this.buildTimelineMessage({state:n,params:o})),this.emit(n,o)},t.prototype.buildTimelineMessage=function(n){return V({cid:this.id},n)},t}(rt),jr=Nr,Ir=function(){function e(t){this.hooks=t}return e.prototype.isSupported=function(t){return this.hooks.isSupported(t)},e.prototype.createConnection=function(t,n,o,c){return new jr(this.hooks,t,n,o,c)},e}(),ht=Ir,Ur=new ht({urls:Pr,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!A.getWebSocketAPI()},isSupported:function(){return!!A.getWebSocketAPI()},getSocket:function(e){return A.createWebSocket(e)}}),je={urls:Or,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Ie=V({getSocket:function(e){return A.HTTPFactory.createStreamingSocket(e)}},je),Ue=V({getSocket:function(e){return A.HTTPFactory.createPollingSocket(e)}},je),De={isSupported:function(){return A.isXHRSupported()}},Dr=new ht(V({},Ie,De)),qr=new ht(V({},Ue,De)),Fr={ws:Ur,xhr_streaming:Dr,xhr_polling:qr},Et=Fr,Br=new ht({file:"sockjs",urls:Er,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:P.getPath("sockjs",{useTLS:t.useTLS}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),qe={isSupported:function(e){var t=A.isXDRSupported(e.useTLS);return t}},Hr=new ht(V({},Ie,qe)),Mr=new ht(V({},Ue,qe));Et.xdr_streaming=Hr,Et.xdr_polling=Mr,Et.sockjs=Br;var zr=Et,Jr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},e(t,n)};return function(t,n){e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Xr=function(e){Jr(t,e);function t(){var n=e.call(this)||this,o=n;return window.addEventListener!==void 0&&(window.addEventListener("online",function(){o.emit("online")},!1),window.addEventListener("offline",function(){o.emit("offline")},!1)),n}return t.prototype.isOnline=function(){return window.navigator.onLine===void 0?!0:window.navigator.onLine},t}(rt),Wr=new Xr,Vr=function(){function e(t,n,o){this.manager=t,this.transport=n,this.minPingDelay=o.minPingDelay,this.maxPingDelay=o.maxPingDelay,this.pingDelay=void 0}return e.prototype.createConnection=function(t,n,o,c){var l=this;c=V({},c,{activityTimeout:this.pingDelay});var p=this.transport.createConnection(t,n,o,c),S=null,x=function(){p.unbind("open",x),p.bind("closed",T),S=z.now()},T=function(N){if(p.unbind("closed",T),N.code===1002||N.code===1003)l.manager.reportDeath();else if(!N.wasClean&&S){var q=z.now()-S;q<2*l.maxPingDelay&&(l.manager.reportDeath(),l.pingDelay=Math.max(q/2,l.minPingDelay))}};return p.bind("open",x),p},e.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},e}(),$r=Vr,Fe={decodeMessage:function(e){try{var t=JSON.parse(e.data),n=t.data;if(typeof n=="string")try{n=JSON.parse(t.data)}catch{}var o={event:t.event,channel:t.channel,data:n};return t.user_id&&(o.user_id=t.user_id),o}catch(c){throw{type:"MessageParseError",error:c,data:e.data}}},encodeMessage:function(e){return JSON.stringify(e)},processHandshake:function(e){var t=Fe.decodeMessage(e);if(t.event==="pusher:connection_established"){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:t.data.activity_timeout*1e3}}else{if(t.event==="pusher:error")return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"}},getCloseAction:function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:e.code===4e3?"tls_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},getCloseError:function(e){return e.code!==1e3&&e.code!==1001?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}},st=Fe,Kr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},e(t,n)};return function(t,n){e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gr=function(e){Kr(t,e);function t(n,o){var c=e.call(this)||this;return c.id=n,c.transport=o,c.activityTimeout=o.activityTimeout,c.bindListeners(),c}return t.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},t.prototype.send=function(n){return this.transport.send(n)},t.prototype.send_event=function(n,o,c){var l={event:n,data:o};return c&&(l.channel=c),U.debug("Event sent",l),this.send(st.encodeMessage(l))},t.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},t.prototype.close=function(){this.transport.close()},t.prototype.bindListeners=function(){var n=this,o={message:function(l){var p;try{p=st.decodeMessage(l)}catch(S){n.emit("error",{type:"MessageParseError",error:S,data:l.data})}if(p!==void 0){switch(U.debug("Event recd",p),p.event){case"pusher:error":n.emit("error",{type:"PusherError",data:p.data});break;case"pusher:ping":n.emit("ping");break;case"pusher:pong":n.emit("pong");break}n.emit("message",p)}},activity:function(){n.emit("activity")},error:function(l){n.emit("error",l)},closed:function(l){c(),l&&l.code&&n.handleCloseEvent(l),n.transport=null,n.emit("closed")}},c=function(){nt(o,function(l,p){n.transport.unbind(p,l)})};nt(o,function(l,p){n.transport.bind(p,l)})},t.prototype.handleCloseEvent=function(n){var o=st.getCloseAction(n),c=st.getCloseError(n);c&&this.emit("error",c),o&&this.emit(o,{action:o,error:c})},t}(rt),Qr=Gr,Yr=function(){function e(t,n){this.transport=t,this.callback=n,this.bindListeners()}return e.prototype.close=function(){this.unbindListeners(),this.transport.close()},e.prototype.bindListeners=function(){var t=this;this.onMessage=function(n){t.unbindListeners();var o;try{o=st.processHandshake(n)}catch(c){t.finish("error",{error:c}),t.transport.close();return}o.action==="connected"?t.finish("connected",{connection:new Qr(o.id,t.transport),activityTimeout:o.activityTimeout}):(t.finish(o.action,{error:o.error}),t.transport.close())},this.onClosed=function(n){t.unbindListeners();var o=st.getCloseAction(n)||"backoff",c=st.getCloseError(n);t.finish(o,{error:c})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},e.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},e.prototype.finish=function(t,n){this.callback(V({transport:this.transport,action:t},n))},e}(),Zr=Yr,ti=function(){function e(t,n){this.timeline=t,this.options=n||{}}return e.prototype.send=function(t,n){this.timeline.isEmpty()||this.timeline.send(A.TimelineTransport.getAgent(this,t),n)},e}(),ei=ti,ni=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},e(t,n)};return function(t,n){e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ri=function(e){ni(t,e);function t(n,o){var c=e.call(this,function(l,p){U.debug("No callbacks on "+n+" for "+l)})||this;return c.name=n,c.pusher=o,c.subscribed=!1,c.subscriptionPending=!1,c.subscriptionCancelled=!1,c}return t.prototype.authorize=function(n,o){return o(null,{auth:""})},t.prototype.trigger=function(n,o){if(n.indexOf("client-")!==0)throw new O("Event '"+n+"' does not start with 'client-'");if(!this.subscribed){var c=w.buildLogSuffix("triggeringClientEvents");U.warn("Client event triggered before channel 'subscription_succeeded' event . "+c)}return this.pusher.send_event(n,o,this.name)},t.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},t.prototype.handleEvent=function(n){var o=n.event,c=n.data;if(o==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(n);else if(o==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(n);else if(o.indexOf("pusher_internal:")!==0){var l={};this.emit(o,c,l)}},t.prototype.handleSubscriptionSucceededEvent=function(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",n.data)},t.prototype.handleSubscriptionCountEvent=function(n){n.data.subscription_count&&(this.subscriptionCount=n.data.subscription_count),this.emit("pusher:subscription_count",n.data)},t.prototype.subscribe=function(){var n=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(o,c){o?(n.subscriptionPending=!1,U.error(o.toString()),n.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:o.message},o instanceof Z?{status:o.status}:{}))):n.pusher.send_event("pusher:subscribe",{auth:c.auth,channel_data:c.channel_data,channel:n.name})}))},t.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},t.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},t.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},t}(rt),Qt=ri,ii=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},e(t,n)};return function(t,n){e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),oi=function(e){ii(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.authorize=function(n,o){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:n},o)},t}(Qt),Yt=oi,si=function(){function e(){this.reset()}return e.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},e.prototype.each=function(t){var n=this;nt(this.members,function(o,c){t(n.get(c))})},e.prototype.setMyID=function(t){this.myID=t},e.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},e.prototype.addMember=function(t){return this.get(t.user_id)===null&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},e.prototype.removeMember=function(t){var n=this.get(t.user_id);return n&&(delete this.members[t.user_id],this.count--),n},e.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},e}(),ai=si,ci=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},e(t,n)};return function(t,n){e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),ui=function(e,t,n,o){function c(l){return l instanceof n?l:new n(function(p){p(l)})}return new(n||(n=Promise))(function(l,p){function S(N){try{T(o.next(N))}catch(q){p(q)}}function x(N){try{T(o.throw(N))}catch(q){p(q)}}function T(N){N.done?l(N.value):c(N.value).then(S,x)}T((o=o.apply(e,t||[])).next())})},li=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,c,l,p;return p={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function S(T){return function(N){return x([T,N])}}function x(T){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,c&&(l=T[0]&2?c.return:T[0]?c.throw||((l=c.return)&&l.call(c),0):c.next)&&!(l=l.call(c,T[1])).done)return l;switch(c=0,l&&(T=[T[0]&2,l.value]),T[0]){case 0:case 1:l=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,c=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(T[0]===6||T[0]===2)){n=0;continue}if(T[0]===3&&(!l||T[1]>l[0]&&T[1]<l[3])){n.label=T[1];break}if(T[0]===6&&n.label<l[1]){n.label=l[1],l=T;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(T);break}l[2]&&n.ops.pop(),n.trys.pop();continue}T=t.call(e,n)}catch(N){T=[6,N],c=0}finally{o=l=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},hi=function(e){ci(t,e);function t(n,o){var c=e.call(this,n,o)||this;return c.members=new ai,c}return t.prototype.authorize=function(n,o){var c=this;e.prototype.authorize.call(this,n,function(l,p){return ui(c,void 0,void 0,function(){var S,x;return li(this,function(T){switch(T.label){case 0:return l?[3,3]:(p=p,p.channel_data==null?[3,1]:(S=JSON.parse(p.channel_data),this.members.setMyID(S.user_id),[3,3]));case 1:return[4,this.pusher.user.signinDonePromise];case 2:if(T.sent(),this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else return x=w.buildLogSuffix("authorizationEndpoint"),U.error("Invalid auth response for channel '"+this.name+"', "+("expected 'channel_data' field. "+x+", ")+"or the user should be signed in."),o("Invalid auth response"),[2];T.label=3;case 3:return o(l,p),[2]}})})})},t.prototype.handleEvent=function(n){var o=n.event;if(o.indexOf("pusher_internal:")===0)this.handleInternalEvent(n);else{var c=n.data,l={};n.user_id&&(l.user_id=n.user_id),this.emit(o,c,l)}},t.prototype.handleInternalEvent=function(n){var o=n.event,c=n.data;switch(o){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(n);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(n);break;case"pusher_internal:member_added":var l=this.members.addMember(c);this.emit("pusher:member_added",l);break;case"pusher_internal:member_removed":var p=this.members.removeMember(c);p&&this.emit("pusher:member_removed",p);break}},t.prototype.handleSubscriptionSucceededEvent=function(n){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(n.data),this.emit("pusher:subscription_succeeded",this.members))},t.prototype.disconnect=function(){this.members.reset(),e.prototype.disconnect.call(this)},t}(Yt),fi=hi,pi=u(1),Zt=u(0),di=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},e(t,n)};return function(t,n){e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),yi=function(e){di(t,e);function t(n,o,c){var l=e.call(this,n,o)||this;return l.key=null,l.nacl=c,l}return t.prototype.authorize=function(n,o){var c=this;e.prototype.authorize.call(this,n,function(l,p){if(l){o(l,p);return}var S=p.shared_secret;if(!S){o(new Error("No shared_secret key in auth payload for encrypted channel: "+c.name),null);return}c.key=Object(Zt.decode)(S),delete p.shared_secret,o(null,p)})},t.prototype.trigger=function(n,o){throw new M("Client events are not currently supported for encrypted channels")},t.prototype.handleEvent=function(n){var o=n.event,c=n.data;if(o.indexOf("pusher_internal:")===0||o.indexOf("pusher:")===0){e.prototype.handleEvent.call(this,n);return}this.handleEncryptedEvent(o,c)},t.prototype.handleEncryptedEvent=function(n,o){var c=this;if(!this.key){U.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!o.ciphertext||!o.nonce){U.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+o);return}var l=Object(Zt.decode)(o.ciphertext);if(l.length<this.nacl.secretbox.overheadLength){U.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+l.length);return}var p=Object(Zt.decode)(o.nonce);if(p.length<this.nacl.secretbox.nonceLength){U.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+p.length);return}var S=this.nacl.secretbox.open(l,p,this.key);if(S===null){U.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,function(x,T){if(x){U.error("Failed to make a request to the authEndpoint: "+T+". Unable to fetch new key, so dropping encrypted event");return}if(S=c.nacl.secretbox.open(l,p,c.key),S===null){U.error("Failed to decrypt event with new key. Dropping encrypted event");return}c.emit(n,c.getDataToEmit(S))});return}this.emit(n,this.getDataToEmit(S))},t.prototype.getDataToEmit=function(n){var o=Object(pi.decode)(n);try{return JSON.parse(o)}catch{return o}},t}(Yt),vi=yi,gi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},e(t,n)};return function(t,n){e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),mi=function(e){gi(t,e);function t(n,o){var c=e.call(this)||this;c.state="initialized",c.connection=null,c.key=n,c.options=o,c.timeline=c.options.timeline,c.usingTLS=c.options.useTLS,c.errorCallbacks=c.buildErrorCallbacks(),c.connectionCallbacks=c.buildConnectionCallbacks(c.errorCallbacks),c.handshakeCallbacks=c.buildHandshakeCallbacks(c.errorCallbacks);var l=A.getNetwork();return l.bind("online",function(){c.timeline.info({netinfo:"online"}),(c.state==="connecting"||c.state==="unavailable")&&c.retryIn(0)}),l.bind("offline",function(){c.timeline.info({netinfo:"offline"}),c.connection&&c.sendActivityCheck()}),c.updateStrategy(),c}return t.prototype.connect=function(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},t.prototype.send=function(n){return this.connection?this.connection.send(n):!1},t.prototype.send_event=function(n,o,c){return this.connection?this.connection.send_event(n,o,c):!1},t.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},t.prototype.isUsingTLS=function(){return this.usingTLS},t.prototype.startConnecting=function(){var n=this,o=function(c,l){c?n.runner=n.strategy.connect(0,o):l.action==="error"?(n.emit("error",{type:"HandshakeError",error:l.error}),n.timeline.error({handshakeError:l.error})):(n.abortConnecting(),n.handshakeCallbacks[l.action](l))};this.runner=this.strategy.connect(0,o)},t.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},t.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var n=this.abandonConnection();n.close()}},t.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},t.prototype.retryIn=function(n){var o=this;this.timeline.info({action:"retry",delay:n}),n>0&&this.emit("connecting_in",Math.round(n/1e3)),this.retryTimer=new ot(n||0,function(){o.disconnectInternally(),o.connect()})},t.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},t.prototype.setUnavailableTimer=function(){var n=this;this.unavailableTimer=new ot(this.options.unavailableTimeout,function(){n.updateState("unavailable")})},t.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},t.prototype.sendActivityCheck=function(){var n=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ot(this.options.pongTimeout,function(){n.timeline.error({pong_timed_out:n.options.pongTimeout}),n.retryIn(0)})},t.prototype.resetActivityCheck=function(){var n=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ot(this.activityTimeout,function(){n.sendActivityCheck()}))},t.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},t.prototype.buildConnectionCallbacks=function(n){var o=this;return V({},n,{message:function(c){o.resetActivityCheck(),o.emit("message",c)},ping:function(){o.send_event("pusher:pong",{})},activity:function(){o.resetActivityCheck()},error:function(c){o.emit("error",c)},closed:function(){o.abandonConnection(),o.shouldRetry()&&o.retryIn(1e3)}})},t.prototype.buildHandshakeCallbacks=function(n){var o=this;return V({},n,{connected:function(c){o.activityTimeout=Math.min(o.options.activityTimeout,c.activityTimeout,c.connection.activityTimeout||1/0),o.clearUnavailableTimer(),o.setConnection(c.connection),o.socket_id=o.connection.id,o.updateState("connected",{socket_id:o.socket_id})}})},t.prototype.buildErrorCallbacks=function(){var n=this,o=function(c){return function(l){l.error&&n.emit("error",{type:"WebSocketError",error:l.error}),c(l)}};return{tls_only:o(function(){n.usingTLS=!0,n.updateStrategy(),n.retryIn(0)}),refused:o(function(){n.disconnect()}),backoff:o(function(){n.retryIn(1e3)}),retry:o(function(){n.retryIn(0)})}},t.prototype.setConnection=function(n){this.connection=n;for(var o in this.connectionCallbacks)this.connection.bind(o,this.connectionCallbacks[o]);this.resetActivityCheck()},t.prototype.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var n in this.connectionCallbacks)this.connection.unbind(n,this.connectionCallbacks[n]);var o=this.connection;return this.connection=null,o}},t.prototype.updateState=function(n,o){var c=this.state;if(this.state=n,c!==n){var l=n;l==="connected"&&(l+=" with new socket ID "+o.socket_id),U.debug("State changed",c+" -> "+l),this.timeline.info({state:n,params:o}),this.emit("state_change",{previous:c,current:n}),this.emit(n,o)}},t.prototype.shouldRetry=function(){return this.state==="connecting"||this.state==="connected"},t}(rt),bi=mi,_i=function(){function e(){this.channels={}}return e.prototype.add=function(t,n){return this.channels[t]||(this.channels[t]=Si(t,n)),this.channels[t]},e.prototype.all=function(){return ur(this.channels)},e.prototype.find=function(t){return this.channels[t]},e.prototype.remove=function(t){var n=this.channels[t];return delete this.channels[t],n},e.prototype.disconnect=function(){nt(this.channels,function(t){t.disconnect()})},e}(),wi=_i;function Si(e,t){if(e.indexOf("private-encrypted-")===0){if(t.config.nacl)return it.createEncryptedChannel(e,t,t.config.nacl);var n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",o=w.buildLogSuffix("encryptedChannelSupport");throw new M(n+". "+o)}else{if(e.indexOf("private-")===0)return it.createPrivateChannel(e,t);if(e.indexOf("presence-")===0)return it.createPresenceChannel(e,t);if(e.indexOf("#")===0)throw new R('Cannot create a channel with name "'+e+'".');return it.createChannel(e,t)}}var ki={createChannels:function(){return new wi},createConnectionManager:function(e,t){return new bi(e,t)},createChannel:function(e,t){return new Qt(e,t)},createPrivateChannel:function(e,t){return new Yt(e,t)},createPresenceChannel:function(e,t){return new fi(e,t)},createEncryptedChannel:function(e,t,n){return new vi(e,t,n)},createTimelineSender:function(e,t){return new ei(e,t)},createHandshake:function(e,t){return new Zr(e,t)},createAssistantToTheTransportManager:function(e,t,n){return new $r(e,t,n)}},it=ki,Ci=function(){function e(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return e.prototype.getAssistant=function(t){return it.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},e.prototype.isAlive=function(){return this.livesLeft>0},e.prototype.reportDeath=function(){this.livesLeft-=1},e}(),Be=Ci,Ti=function(){function e(t,n){this.strategies=t,this.loop=!!n.loop,this.failFast=!!n.failFast,this.timeout=n.timeout,this.timeoutLimit=n.timeoutLimit}return e.prototype.isSupported=function(){return Ne(this.strategies,z.method("isSupported"))},e.prototype.connect=function(t,n){var o=this,c=this.strategies,l=0,p=this.timeout,S=null,x=function(T,N){N?n(null,N):(l=l+1,o.loop&&(l=l%c.length),l<c.length?(p&&(p=p*2,o.timeoutLimit&&(p=Math.min(p,o.timeoutLimit))),S=o.tryStrategy(c[l],t,{timeout:p,failFast:o.failFast},x)):n(!0))};return S=this.tryStrategy(c[l],t,{timeout:p,failFast:this.failFast},x),{abort:function(){S.abort()},forceMinPriority:function(T){t=T,S&&S.forceMinPriority(T)}}},e.prototype.tryStrategy=function(t,n,o,c){var l=null,p=null;return o.timeout>0&&(l=new ot(o.timeout,function(){p.abort(),c(!0)})),p=t.connect(n,function(S,x){S&&l&&l.isRunning()&&!o.failFast||(l&&l.ensureAborted(),c(S,x))}),{abort:function(){l&&l.ensureAborted(),p.abort()},forceMinPriority:function(S){p.forceMinPriority(S)}}},e}(),at=Ti,Pi=function(){function e(t){this.strategies=t}return e.prototype.isSupported=function(){return Ne(this.strategies,z.method("isSupported"))},e.prototype.connect=function(t,n){return Oi(this.strategies,t,function(o,c){return function(l,p){if(c[o].error=l,l){Ei(c)&&n(!0);return}vt(c,function(S){S.forceMinPriority(p.transport.priority)}),n(null,p)}})},e}(),te=Pi;function Oi(e,t,n){var o=Re(e,function(c,l,p,S){return c.connect(t,n(l,S))});return{abort:function(){vt(o,xi)},forceMinPriority:function(c){vt(o,function(l){l.forceMinPriority(c)})}}}function Ei(e){return fr(e,function(t){return!!t.error})}function xi(e){!e.error&&!e.aborted&&(e.abort(),e.aborted=!0)}var Ri=function(){function e(t,n,o){this.strategy=t,this.transports=n,this.ttl=o.ttl||1800*1e3,this.usingTLS=o.useTLS,this.timeline=o.timeline}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(t,n){var o=this.usingTLS,c=Li(o),l=[this.strategy];if(c&&c.timestamp+this.ttl>=z.now()){var p=this.transports[c.transport];p&&(this.timeline.info({cached:!0,transport:c.transport,latency:c.latency}),l.push(new at([p],{timeout:c.latency*2+1e3,failFast:!0})))}var S=z.now(),x=l.pop().connect(t,function T(N,q){N?(He(o),l.length>0?(S=z.now(),x=l.pop().connect(t,T)):n(N)):(Ni(o,q.transport.name,z.now()-S),n(null,q))});return{abort:function(){x.abort()},forceMinPriority:function(T){t=T,x&&x.forceMinPriority(T)}}},e}(),Ai=Ri;function ee(e){return"pusherTransport"+(e?"TLS":"NonTLS")}function Li(e){var t=A.getLocalStorage();if(t)try{var n=t[ee(e)];if(n)return JSON.parse(n)}catch{He(e)}return null}function Ni(e,t,n){var o=A.getLocalStorage();if(o)try{o[ee(e)]=Ot({timestamp:z.now(),transport:t,latency:n})}catch{}}function He(e){var t=A.getLocalStorage();if(t)try{delete t[ee(e)]}catch{}}var ji=function(){function e(t,n){var o=n.delay;this.strategy=t,this.options={delay:o}}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(t,n){var o=this.strategy,c,l=new ot(this.options.delay,function(){c=o.connect(t,n)});return{abort:function(){l.ensureAborted(),c&&c.abort()},forceMinPriority:function(p){t=p,c&&c.forceMinPriority(p)}}},e}(),xt=ji,Ii=function(){function e(t,n,o){this.test=t,this.trueBranch=n,this.falseBranch=o}return e.prototype.isSupported=function(){var t=this.test()?this.trueBranch:this.falseBranch;return t.isSupported()},e.prototype.connect=function(t,n){var o=this.test()?this.trueBranch:this.falseBranch;return o.connect(t,n)},e}(),gt=Ii,Ui=function(){function e(t){this.strategy=t}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(t,n){var o=this.strategy.connect(t,function(c,l){l&&o.abort(),n(c,l)});return o},e}(),Di=Ui;function mt(e){return function(){return e.isSupported()}}var qi=function(e,t,n){var o={};function c(tn,Vo,$o,Ko,Go){var en=n(e,tn,Vo,$o,Ko,Go);return o[tn]=en,en}var l=Object.assign({},t,{hostNonTLS:e.wsHost+":"+e.wsPort,hostTLS:e.wsHost+":"+e.wssPort,httpPath:e.wsPath}),p=Object.assign({},l,{useTLS:!0}),S=Object.assign({},t,{hostNonTLS:e.httpHost+":"+e.httpPort,hostTLS:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}),x={loop:!0,timeout:15e3,timeoutLimit:6e4},T=new Be({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),N=new Be({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),q=c("ws","ws",3,l,T),tt=c("wss","ws",3,p,T),Mo=c("sockjs","sockjs",1,S),$e=c("xhr_streaming","xhr_streaming",1,S,N),zo=c("xdr_streaming","xdr_streaming",1,S,N),Ke=c("xhr_polling","xhr_polling",1,S),Jo=c("xdr_polling","xdr_polling",1,S),Ge=new at([q],x),Xo=new at([tt],x),Wo=new at([Mo],x),Qe=new at([new gt(mt($e),$e,zo)],x),Ye=new at([new gt(mt(Ke),Ke,Jo)],x),Ze=new at([new gt(mt(Qe),new te([Qe,new xt(Ye,{delay:4e3})]),Ye)],x),oe=new gt(mt(Ze),Ze,Wo),se;return t.useTLS?se=new te([Ge,new xt(oe,{delay:2e3})]):se=new te([Ge,new xt(Xo,{delay:2e3}),new xt(oe,{delay:5e3})]),new Ai(new Di(new gt(mt(q),se,oe)),o,{ttl:18e5,timeline:t.timeline,useTLS:t.useTLS})},Fi=qi,Bi=function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.useTLS?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),P.load(e.hooks.file,{useTLS:e.options.useTLS},function(t,n){e.hooks.isInitialized()?(e.changeState("initialized"),n(!0)):(t&&e.onError(t),e.onClose(),n(!1))})):e.onClose()},Hi={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new I),e.close()},t.onerror=function(n){e.emit("error",n),e.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}},Mi=Hi,zi=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},e(t,n)};return function(t,n){e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ji=256*1024,Xi=function(e){zi(t,e);function t(n,o,c){var l=e.call(this)||this;return l.hooks=n,l.method=o,l.url=c,l}return t.prototype.start=function(n){var o=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){o.close()},A.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(n)},t.prototype.close=function(){this.unloader&&(A.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},t.prototype.onChunk=function(n,o){for(;;){var c=this.advanceBuffer(o);if(c)this.emit("chunk",{status:n,data:c});else break}this.isBufferTooLong(o)&&this.emit("buffer_too_long")},t.prototype.advanceBuffer=function(n){var o=n.slice(this.position),c=o.indexOf(`
`);return c!==-1?(this.position+=c+1,o.slice(0,c)):null},t.prototype.isBufferTooLong=function(n){return this.position===n.length&&n.length>Ji},t}(rt),Wi=Xi,ne;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=3]="CLOSED"})(ne||(ne={}));var ct=ne,Vi=1,$i=function(){function e(t,n){this.hooks=t,this.session=ze(1e3)+"/"+Yi(8),this.location=Ki(n),this.readyState=ct.CONNECTING,this.openStream()}return e.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},e.prototype.ping=function(){this.hooks.sendHeartbeat(this)},e.prototype.close=function(t,n){this.onClose(t,n,!0)},e.prototype.sendRaw=function(t){if(this.readyState===ct.OPEN)try{return A.createSocketRequest("POST",Me(Gi(this.location,this.session))).start(t),!0}catch{return!1}else return!1},e.prototype.reconnect=function(){this.closeStream(),this.openStream()},e.prototype.onClose=function(t,n,o){this.closeStream(),this.readyState=ct.CLOSED,this.onclose&&this.onclose({code:t,reason:n,wasClean:o})},e.prototype.onChunk=function(t){if(t.status===200){this.readyState===ct.OPEN&&this.onActivity();var n,o=t.data.slice(0,1);switch(o){case"o":n=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(n);break;case"a":n=JSON.parse(t.data.slice(1)||"[]");for(var c=0;c<n.length;c++)this.onEvent(n[c]);break;case"m":n=JSON.parse(t.data.slice(1)||"null"),this.onEvent(n);break;case"h":this.hooks.onHeartbeat(this);break;case"c":n=JSON.parse(t.data.slice(1)||"[]"),this.onClose(n[0],n[1],!0);break}}},e.prototype.onOpen=function(t){this.readyState===ct.CONNECTING?(t&&t.hostname&&(this.location.base=Qi(this.location.base,t.hostname)),this.readyState=ct.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},e.prototype.onEvent=function(t){this.readyState===ct.OPEN&&this.onmessage&&this.onmessage({data:t})},e.prototype.onActivity=function(){this.onactivity&&this.onactivity()},e.prototype.onError=function(t){this.onerror&&this.onerror(t)},e.prototype.openStream=function(){var t=this;this.stream=A.createSocketRequest("POST",Me(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(n){t.onChunk(n)}),this.stream.bind("finished",function(n){t.hooks.onFinished(t,n)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(n){z.defer(function(){t.onError(n),t.onClose(1006,"Could not start streaming",!1)})}},e.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},e}();function Ki(e){var t=/([^\?]*)\/*(\??.*)/.exec(e);return{base:t[1],queryString:t[2]}}function Gi(e,t){return e.base+"/"+t+"/xhr_send"}function Me(e){var t=e.indexOf("?")===-1?"?":"&";return e+t+"t="+ +new Date+"&n="+Vi++}function Qi(e,t){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e);return n[1]+t+n[3]}function ze(e){return A.randomInt(e)}function Yi(e){for(var t=[],n=0;n<e;n++)t.push(ze(32).toString(32));return t.join("")}var Zi=$i,to={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}},eo=to,no={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){t===200?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}},ro=no,oo={getRequest:function(e){var t=A.getXHRAPI(),n=new t;return n.onreadystatechange=n.onprogress=function(){switch(n.readyState){case 3:n.responseText&&n.responseText.length>0&&e.onChunk(n.status,n.responseText);break;case 4:n.responseText&&n.responseText.length>0&&e.onChunk(n.status,n.responseText),e.emit("finished",n.status),e.close();break}},n},abortRequest:function(e){e.onreadystatechange=null,e.abort()}},so=oo,ao={createStreamingSocket:function(e){return this.createSocket(eo,e)},createPollingSocket:function(e){return this.createSocket(ro,e)},createSocket:function(e,t){return new Zi(e,t)},createXHR:function(e,t){return this.createRequest(so,e,t)},createRequest:function(e,t,n){return new Wi(e,t,n)}},Je=ao;Je.createXDR=function(e,t){return this.createRequest(Mi,e,t)};var co=Je,uo={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:f,DependenciesReceivers:k,getDefaultStrategy:Fi,Transports:zr,transportConnectionInitializer:Bi,HTTPFactory:co,TimelineTransport:Tr,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(e){var t=this;window.Pusher=e;var n=function(){t.onDocumentBody(e.ready)};window.JSON?n():P.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:Qn,jsonp:mr}},onDocumentBody:function(e){var t=this;document.body?e():setTimeout(function(){t.onDocumentBody(e)},0)},createJSONPRequest:function(e,t){return new Sr(e,t)},createScriptRequest:function(e){return new _r(e)},getLocalStorage:function(){try{return window.localStorage}catch{return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var e=this.getXHRAPI();return new e},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return Wr},createWebSocket:function(e){var t=this.getWebSocketAPI();return new t(e)},createSocketRequest:function(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(t.indexOf("https:")===0))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var e=this.getXHRAPI();return!!e&&new e().withCredentials!==void 0},isXDRSupported:function(e){var t=e?"https:":"http:",n=this.getProtocol();return!!window.XDomainRequest&&n===t},addUnloadListener:function(e){window.addEventListener!==void 0?window.addEventListener("unload",e,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",e)},removeUnloadListener:function(e){window.addEventListener!==void 0?window.removeEventListener("unload",e,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",e)},randomInt:function(e){var t=function(){var n=window.crypto||window.msCrypto,o=n.getRandomValues(new Uint32Array(1))[0];return o/Math.pow(2,32)};return Math.floor(t()*e)}},A=uo,re;(function(e){e[e.ERROR=3]="ERROR",e[e.INFO=6]="INFO",e[e.DEBUG=7]="DEBUG"})(re||(re={}));var Rt=re,lo=function(){function e(t,n,o){this.key=t,this.session=n,this.events=[],this.options=o||{},this.sent=0,this.uniqueID=0}return e.prototype.log=function(t,n){t<=this.options.level&&(this.events.push(V({},n,{timestamp:z.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},e.prototype.error=function(t){this.log(Rt.ERROR,t)},e.prototype.info=function(t){this.log(Rt.INFO,t)},e.prototype.debug=function(t){this.log(Rt.DEBUG,t)},e.prototype.isEmpty=function(){return this.events.length===0},e.prototype.send=function(t,n){var o=this,c=V({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(c,function(l,p){l||o.sent++,n&&n(l,p)}),!0},e.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},e}(),ho=lo,fo=function(){function e(t,n,o,c){this.name=t,this.priority=n,this.transport=o,this.options=c||{}}return e.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},e.prototype.connect=function(t,n){var o=this;if(this.isSupported()){if(this.priority<t)return Xe(new j,n)}else return Xe(new W,n);var c=!1,l=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),p=null,S=function(){l.unbind("initialized",S),l.connect()},x=function(){p=it.createHandshake(l,function(tt){c=!0,q(),n(null,tt)})},T=function(tt){q(),n(tt)},N=function(){q();var tt;tt=Ot(l),n(new D(tt))},q=function(){l.unbind("initialized",S),l.unbind("open",x),l.unbind("error",T),l.unbind("closed",N)};return l.bind("initialized",S),l.bind("open",x),l.bind("error",T),l.bind("closed",N),l.initialize(),{abort:function(){c||(q(),p?p.close():l.close())},forceMinPriority:function(tt){c||o.priority<tt&&(p?p.close():l.close())}}},e}(),po=fo;function Xe(e,t){return z.defer(function(){t(e)}),{abort:function(){},forceMinPriority:function(){}}}var yo=A.Transports,vo=function(e,t,n,o,c,l){var p=yo[n];if(!p)throw new X(n);var S=(!e.enabledTransports||Ee(e.enabledTransports,t)!==-1)&&(!e.disabledTransports||Ee(e.disabledTransports,t)===-1),x;return S?(c=Object.assign({ignoreNullOrigin:e.ignoreNullOrigin},c),x=new po(t,o,l?l.getAssistant(p):p,c)):x=go,x},go={isSupported:function(){return!1},connect:function(e,t){var n=z.defer(function(){t(new W)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},mo=function(e,t){var n="socket_id="+encodeURIComponent(e.socketId);for(var o in t.params)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(t.params[o]);if(t.paramsProvider!=null){var c=t.paramsProvider();for(var o in c)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(c[o])}return n},bo=function(e){if(typeof A.getAuthorizers()[e.transport]>"u")throw"'"+e.transport+"' is not a recognized auth transport";return function(t,n){var o=mo(t,e);A.getAuthorizers()[e.transport](A,o,e,y.UserAuthentication,n)}},_o=bo,wo=function(e,t){var n="socket_id="+encodeURIComponent(e.socketId);n+="&channel_name="+encodeURIComponent(e.channelName);for(var o in t.params)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(t.params[o]);if(t.paramsProvider!=null){var c=t.paramsProvider();for(var o in c)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(c[o])}return n},So=function(e){if(typeof A.getAuthorizers()[e.transport]>"u")throw"'"+e.transport+"' is not a recognized auth transport";return function(t,n){var o=wo(t,e);A.getAuthorizers()[e.transport](A,o,e,y.ChannelAuthorization,n)}},ko=So,Co=function(e,t,n){var o={authTransport:t.transport,authEndpoint:t.endpoint,auth:{params:t.params,headers:t.headers}};return function(c,l){var p=e.channel(c.channelName),S=n(p,o);S.authorize(c.socketId,l)}},ft=function(){return ft=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},ft.apply(this,arguments)};function To(e,t){var n={activityTimeout:e.activityTimeout||m.activityTimeout,cluster:e.cluster||m.cluster,httpPath:e.httpPath||m.httpPath,httpPort:e.httpPort||m.httpPort,httpsPort:e.httpsPort||m.httpsPort,pongTimeout:e.pongTimeout||m.pongTimeout,statsHost:e.statsHost||m.stats_host,unavailableTimeout:e.unavailableTimeout||m.unavailableTimeout,wsPath:e.wsPath||m.wsPath,wsPort:e.wsPort||m.wsPort,wssPort:e.wssPort||m.wssPort,enableStats:xo(e),httpHost:Po(e),useTLS:Eo(e),wsHost:Oo(e),userAuthenticator:Ro(e),channelAuthorizer:Lo(e,t)};return"disabledTransports"in e&&(n.disabledTransports=e.disabledTransports),"enabledTransports"in e&&(n.enabledTransports=e.enabledTransports),"ignoreNullOrigin"in e&&(n.ignoreNullOrigin=e.ignoreNullOrigin),"timelineParams"in e&&(n.timelineParams=e.timelineParams),"nacl"in e&&(n.nacl=e.nacl),n}function Po(e){return e.httpHost?e.httpHost:e.cluster?"sockjs-"+e.cluster+".pusher.com":m.httpHost}function Oo(e){return e.wsHost?e.wsHost:e.cluster?We(e.cluster):We(m.cluster)}function We(e){return"ws-"+e+".pusher.com"}function Eo(e){return A.getProtocol()==="https:"?!0:e.forceTLS!==!1}function xo(e){return"enableStats"in e?e.enableStats:"disableStats"in e?!e.disableStats:!1}function Ro(e){var t=ft(ft({},m.userAuthentication),e.userAuthentication);return"customHandler"in t&&t.customHandler!=null?t.customHandler:_o(t)}function Ao(e,t){var n;return"channelAuthorization"in e?n=ft(ft({},m.channelAuthorization),e.channelAuthorization):(n={transport:e.authTransport||m.authTransport,endpoint:e.authEndpoint||m.authEndpoint},"auth"in e&&("params"in e.auth&&(n.params=e.auth.params),"headers"in e.auth&&(n.headers=e.auth.headers)),"authorizer"in e&&(n.customHandler=Co(t,n,e.authorizer))),n}function Lo(e,t){var n=Ao(e,t);return"customHandler"in n&&n.customHandler!=null?n.customHandler:ko(n)}var No=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},e(t,n)};return function(t,n){e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),jo=function(e){No(t,e);function t(n){var o=e.call(this,function(c,l){U.debug("No callbacks on watchlist events for "+c)})||this;return o.pusher=n,o.bindWatchlistInternalEvent(),o}return t.prototype.handleEvent=function(n){var o=this;n.data.events.forEach(function(c){o.emit(c.name,c)})},t.prototype.bindWatchlistInternalEvent=function(){var n=this;this.pusher.connection.bind("message",function(o){var c=o.event;c==="pusher_internal:watchlist_events"&&n.handleEvent(o)})},t}(rt),Io=jo;function Uo(){var e,t,n=new Promise(function(o,c){e=o,t=c});return{promise:n,resolve:e,reject:t}}var Do=Uo,qo=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var l in c)c.hasOwnProperty(l)&&(o[l]=c[l])},e(t,n)};return function(t,n){e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fo=function(e){qo(t,e);function t(n){var o=e.call(this,function(c,l){U.debug("No callbacks on user for "+c)})||this;return o.signin_requested=!1,o.user_data=null,o.serverToUserChannel=null,o.signinDonePromise=null,o._signinDoneResolve=null,o._onAuthorize=function(c,l){if(c){U.warn("Error during signin: "+c),o._cleanup();return}o.pusher.send_event("pusher:signin",{auth:l.auth,user_data:l.user_data})},o.pusher=n,o.pusher.connection.bind("state_change",function(c){var l=c.previous,p=c.current;l!=="connected"&&p==="connected"&&o._signin(),l==="connected"&&p!=="connected"&&(o._cleanup(),o._newSigninPromiseIfNeeded())}),o.watchlist=new Io(n),o.pusher.connection.bind("message",function(c){var l=c.event;l==="pusher:signin_success"&&o._onSigninSuccess(c.data),o.serverToUserChannel&&o.serverToUserChannel.name===c.channel&&o.serverToUserChannel.handleEvent(c)}),o}return t.prototype.signin=function(){this.signin_requested||(this.signin_requested=!0,this._signin())},t.prototype._signin=function(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))},t.prototype._onSigninSuccess=function(n){try{this.user_data=JSON.parse(n.user_data)}catch{U.error("Failed parsing user data after signin: "+n.user_data),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){U.error("user_data doesn't contain an id. user_data: "+this.user_data),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()},t.prototype._subscribeChannels=function(){var n=this,o=function(c){c.subscriptionPending&&c.subscriptionCancelled?c.reinstateSubscription():!c.subscriptionPending&&n.pusher.connection.state==="connected"&&c.subscribe()};this.serverToUserChannel=new Qt("#server-to-user-"+this.user_data.id,this.pusher),this.serverToUserChannel.bind_global(function(c,l){c.indexOf("pusher_internal:")===0||c.indexOf("pusher:")===0||n.emit(c,l)}),o(this.serverToUserChannel)},t.prototype._cleanup=function(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()},t.prototype._newSigninPromiseIfNeeded=function(){if(this.signin_requested&&!(this.signinDonePromise&&!this.signinDonePromise.done)){var n=Do(),o=n.promise,c=n.resolve;o.done=!1;var l=function(){o.done=!0};o.then(l).catch(l),this.signinDonePromise=o,this._signinDoneResolve=c}},t}(rt),Bo=Fo,Ve=function(){function e(t,n){var o=this;if(Ho(t),n=n||{},!n.cluster&&!(n.wsHost||n.httpHost)){var c=w.buildLogSuffix("javascriptQuickStart");U.warn("You should always specify a cluster when connecting. "+c)}"disableStats"in n&&U.warn("The disableStats option is deprecated in favor of enableStats"),this.key=t,this.config=To(n,this),this.channels=it.createChannels(),this.global_emitter=new rt,this.sessionID=A.randomInt(1e9),this.timeline=new ho(this.key,this.sessionID,{cluster:this.config.cluster,features:e.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Rt.INFO,version:m.VERSION}),this.config.enableStats&&(this.timelineSender=it.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+A.TimelineTransport.name}));var l=function(p){return A.getDefaultStrategy(o.config,p,vo)};this.connection=it.createConnectionManager(this.key,{getStrategy:l,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",function(){o.subscribeAll(),o.timelineSender&&o.timelineSender.send(o.connection.isUsingTLS())}),this.connection.bind("message",function(p){var S=p.event,x=S.indexOf("pusher_internal:")===0;if(p.channel){var T=o.channel(p.channel);T&&T.handleEvent(p)}x||o.global_emitter.emit(p.event,p.data)}),this.connection.bind("connecting",function(){o.channels.disconnect()}),this.connection.bind("disconnected",function(){o.channels.disconnect()}),this.connection.bind("error",function(p){U.warn(p)}),e.instances.push(this),this.timeline.info({instances:e.instances.length}),this.user=new Bo(this),e.isReady&&this.connect()}return e.ready=function(){e.isReady=!0;for(var t=0,n=e.instances.length;t<n;t++)e.instances[t].connect()},e.getClientFeatures=function(){return xe(Le({ws:A.Transports.ws},function(t){return t.isSupported({})}))},e.prototype.channel=function(t){return this.channels.find(t)},e.prototype.allChannels=function(){return this.channels.all()},e.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),n=this.timelineSender;this.timelineSenderTimer=new sr(6e4,function(){n.send(t)})}},e.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},e.prototype.bind=function(t,n,o){return this.global_emitter.bind(t,n,o),this},e.prototype.unbind=function(t,n,o){return this.global_emitter.unbind(t,n,o),this},e.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},e.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},e.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},e.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},e.prototype.subscribe=function(t){var n=this.channels.add(t,this);return n.subscriptionPending&&n.subscriptionCancelled?n.reinstateSubscription():!n.subscriptionPending&&this.connection.state==="connected"&&n.subscribe(),n},e.prototype.unsubscribe=function(t){var n=this.channels.find(t);n&&n.subscriptionPending?n.cancelSubscription():(n=this.channels.remove(t),n&&n.subscribed&&n.unsubscribe())},e.prototype.send_event=function(t,n,o){return this.connection.send_event(t,n,o)},e.prototype.shouldUseTLS=function(){return this.config.useTLS},e.prototype.signin=function(){this.user.signin()},e.instances=[],e.isReady=!1,e.logToConsole=!1,e.Runtime=A,e.ScriptReceivers=A.ScriptReceivers,e.DependenciesReceivers=A.DependenciesReceivers,e.auth_callbacks=A.auth_callbacks,e}(),ie=a.default=Ve;function Ho(e){if(e==null)throw"You must pass your app key when you instantiate Pusher."}A.setup(Ve)}])})})(Jn);var Aa=Jn.exports;const La=Ra(Aa);function _t(r){"@babel/helpers - typeof";return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_t(r)}function B(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function vn(r,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}function H(r,i,s){return i&&vn(r.prototype,i),s&&vn(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r}function St(){return St=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])}return r},St.apply(this,arguments)}function K(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&ve(r,i)}function qt(r){return qt=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},qt(r)}function ve(r,i){return ve=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},ve(r,i)}function Na(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ja(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ia(r,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ja(r)}function G(r){var i=Na();return function(){var a=qt(r),u;if(i){var h=qt(this).constructor;u=Reflect.construct(a,arguments,h)}else u=a.apply(this,arguments);return Ia(this,u)}}var ke=function(){function r(){B(this,r)}return H(r,[{key:"listenForWhisper",value:function(s,a){return this.listen(".client-"+s,a)}},{key:"notification",value:function(s){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",s)}},{key:"stopListeningForWhisper",value:function(s,a){return this.stopListening(".client-"+s,a)}}]),r}(),Xn=function(){function r(i){B(this,r),this.namespace=i}return H(r,[{key:"format",value:function(s){return[".","\\"].includes(s.charAt(0))?s.substring(1):(this.namespace&&(s=this.namespace+"."+s),s.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(s){this.namespace=s}}]),r}();function Ua(r){try{new r}catch(i){if(i.message.includes("is not a constructor"))return!1}return!0}var Ce=function(r){K(s,r);var i=G(s);function s(a,u,h){var f;return B(this,s),f=i.call(this),f.name=u,f.pusher=a,f.options=h,f.eventFormatter=new Xn(f.options.namespace),f.subscribe(),f}return H(s,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(u,h){return this.on(this.eventFormatter.format(u),h),this}},{key:"listenToAll",value:function(u){var h=this;return this.subscription.bind_global(function(f,v){if(!f.startsWith("pusher:")){var m=h.options.namespace.replace(/\./g,"\\"),_=f.startsWith(m)?f.substring(m.length+1):"."+f;u(_,v)}}),this}},{key:"stopListening",value:function(u,h){return h?this.subscription.unbind(this.eventFormatter.format(u),h):this.subscription.unbind(this.eventFormatter.format(u)),this}},{key:"stopListeningToAll",value:function(u){return u?this.subscription.unbind_global(u):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(u){return this.on("pusher:subscription_succeeded",function(){u()}),this}},{key:"error",value:function(u){return this.on("pusher:subscription_error",function(h){u(h)}),this}},{key:"on",value:function(u,h){return this.subscription.bind(u,h),this}}]),s}(ke),Wn=function(r){K(s,r);var i=G(s);function s(){return B(this,s),i.apply(this,arguments)}return H(s,[{key:"whisper",value:function(u,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(u),h),this}}]),s}(Ce),Da=function(r){K(s,r);var i=G(s);function s(){return B(this,s),i.apply(this,arguments)}return H(s,[{key:"whisper",value:function(u,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(u),h),this}}]),s}(Ce),qa=function(r){K(s,r);var i=G(s);function s(){return B(this,s),i.apply(this,arguments)}return H(s,[{key:"here",value:function(u){return this.on("pusher:subscription_succeeded",function(h){u(Object.keys(h.members).map(function(f){return h.members[f]}))}),this}},{key:"joining",value:function(u){return this.on("pusher:member_added",function(h){u(h.info)}),this}},{key:"whisper",value:function(u,h){return this.pusher.channels.channels[this.name].trigger("client-".concat(u),h),this}},{key:"leaving",value:function(u){return this.on("pusher:member_removed",function(h){u(h.info)}),this}}]),s}(Wn),Vn=function(r){K(s,r);var i=G(s);function s(a,u,h){var f;return B(this,s),f=i.call(this),f.events={},f.listeners={},f.name=u,f.socket=a,f.options=h,f.eventFormatter=new Xn(f.options.namespace),f.subscribe(),f}return H(s,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(u,h){return this.on(this.eventFormatter.format(u),h),this}},{key:"stopListening",value:function(u,h){return this.unbindEvent(this.eventFormatter.format(u),h),this}},{key:"subscribed",value:function(u){return this.on("connect",function(h){u(h)}),this}},{key:"error",value:function(u){return this}},{key:"on",value:function(u,h){var f=this;return this.listeners[u]=this.listeners[u]||[],this.events[u]||(this.events[u]=function(v,m){f.name===v&&f.listeners[u]&&f.listeners[u].forEach(function(_){return _(m)})},this.socket.on(u,this.events[u])),this.listeners[u].push(h),this}},{key:"unbind",value:function(){var u=this;Object.keys(this.events).forEach(function(h){u.unbindEvent(h)})}},{key:"unbindEvent",value:function(u,h){this.listeners[u]=this.listeners[u]||[],h&&(this.listeners[u]=this.listeners[u].filter(function(f){return f!==h})),(!h||this.listeners[u].length===0)&&(this.events[u]&&(this.socket.removeListener(u,this.events[u]),delete this.events[u]),delete this.listeners[u])}}]),s}(ke),$n=function(r){K(s,r);var i=G(s);function s(){return B(this,s),i.apply(this,arguments)}return H(s,[{key:"whisper",value:function(u,h){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(u),data:h}),this}}]),s}(Vn),Fa=function(r){K(s,r);var i=G(s);function s(){return B(this,s),i.apply(this,arguments)}return H(s,[{key:"here",value:function(u){return this.on("presence:subscribed",function(h){u(h.map(function(f){return f.user_info}))}),this}},{key:"joining",value:function(u){return this.on("presence:joining",function(h){return u(h.user_info)}),this}},{key:"whisper",value:function(u,h){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(u),data:h}),this}},{key:"leaving",value:function(u){return this.on("presence:leaving",function(h){return u(h.user_info)}),this}}]),s}($n),Ft=function(r){K(s,r);var i=G(s);function s(){return B(this,s),i.apply(this,arguments)}return H(s,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(u,h){return this}},{key:"listenToAll",value:function(u){return this}},{key:"stopListening",value:function(u,h){return this}},{key:"subscribed",value:function(u){return this}},{key:"error",value:function(u){return this}},{key:"on",value:function(u,h){return this}}]),s}(ke),Kn=function(r){K(s,r);var i=G(s);function s(){return B(this,s),i.apply(this,arguments)}return H(s,[{key:"whisper",value:function(u,h){return this}}]),s}(Ft),Ba=function(r){K(s,r);var i=G(s);function s(){return B(this,s),i.apply(this,arguments)}return H(s,[{key:"whisper",value:function(u,h){return this}}]),s}(Ft),Ha=function(r){K(s,r);var i=G(s);function s(){return B(this,s),i.apply(this,arguments)}return H(s,[{key:"here",value:function(u){return this}},{key:"joining",value:function(u){return this}},{key:"whisper",value:function(u,h){return this}},{key:"leaving",value:function(u){return this}}]),s}(Kn),Te=function(){function r(i){B(this,r),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(i),this.connect()}return H(r,[{key:"setOptions",value:function(s){this.options=St(this._defaultOptions,s);var a=this.csrfToken();return a&&(this.options.auth.headers["X-CSRF-TOKEN"]=a,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=a),a=this.options.bearerToken,a&&(this.options.auth.headers.Authorization="Bearer "+a,this.options.userAuthentication.headers.Authorization="Bearer "+a),s}},{key:"csrfToken",value:function(){var s;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(s=document.querySelector('meta[name="csrf-token"]'))?s.getAttribute("content"):null}}]),r}(),gn=function(r){K(s,r);var i=G(s);function s(){var a;return B(this,s),a=i.apply(this,arguments),a.channels={},a}return H(s,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(u,h,f){return this.channel(u).listen(h,f)}},{key:"channel",value:function(u){return this.channels[u]||(this.channels[u]=new Ce(this.pusher,u,this.options)),this.channels[u]}},{key:"privateChannel",value:function(u){return this.channels["private-"+u]||(this.channels["private-"+u]=new Wn(this.pusher,"private-"+u,this.options)),this.channels["private-"+u]}},{key:"encryptedPrivateChannel",value:function(u){return this.channels["private-encrypted-"+u]||(this.channels["private-encrypted-"+u]=new Da(this.pusher,"private-encrypted-"+u,this.options)),this.channels["private-encrypted-"+u]}},{key:"presenceChannel",value:function(u){return this.channels["presence-"+u]||(this.channels["presence-"+u]=new qa(this.pusher,"presence-"+u,this.options)),this.channels["presence-"+u]}},{key:"leave",value:function(u){var h=this,f=[u,"private-"+u,"private-encrypted-"+u,"presence-"+u];f.forEach(function(v,m){h.leaveChannel(v)})}},{key:"leaveChannel",value:function(u){this.channels[u]&&(this.channels[u].unsubscribe(),delete this.channels[u])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),s}(Te),mn=function(r){K(s,r);var i=G(s);function s(){var a;return B(this,s),a=i.apply(this,arguments),a.channels={},a}return H(s,[{key:"connect",value:function(){var u=this,h=this.getSocketIO();return this.socket=h(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(u.channels).forEach(function(f){f.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(u,h,f){return this.channel(u).listen(h,f)}},{key:"channel",value:function(u){return this.channels[u]||(this.channels[u]=new Vn(this.socket,u,this.options)),this.channels[u]}},{key:"privateChannel",value:function(u){return this.channels["private-"+u]||(this.channels["private-"+u]=new $n(this.socket,"private-"+u,this.options)),this.channels["private-"+u]}},{key:"presenceChannel",value:function(u){return this.channels["presence-"+u]||(this.channels["presence-"+u]=new Fa(this.socket,"presence-"+u,this.options)),this.channels["presence-"+u]}},{key:"leave",value:function(u){var h=this,f=[u,"private-"+u,"presence-"+u];f.forEach(function(v){h.leaveChannel(v)})}},{key:"leaveChannel",value:function(u){this.channels[u]&&(this.channels[u].unsubscribe(),delete this.channels[u])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),s}(Te),Ma=function(r){K(s,r);var i=G(s);function s(){var a;return B(this,s),a=i.apply(this,arguments),a.channels={},a}return H(s,[{key:"connect",value:function(){}},{key:"listen",value:function(u,h,f){return new Ft}},{key:"channel",value:function(u){return new Ft}},{key:"privateChannel",value:function(u){return new Kn}},{key:"encryptedPrivateChannel",value:function(u){return new Ba}},{key:"presenceChannel",value:function(u){return new Ha}},{key:"leave",value:function(u){}},{key:"leaveChannel",value:function(u){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),s}(Te),za=function(){function r(i){B(this,r),this.options=i,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return H(r,[{key:"channel",value:function(s){return this.connector.channel(s)}},{key:"connect",value:function(){if(this.options.broadcaster=="reverb")this.connector=new gn(St(St({},this.options),{cluster:""}));else if(this.options.broadcaster=="pusher")this.connector=new gn(this.options);else if(this.options.broadcaster=="socket.io")this.connector=new mn(this.options);else if(this.options.broadcaster=="null")this.connector=new Ma(this.options);else if(typeof this.options.broadcaster=="function"&&Ua(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error("Broadcaster ".concat(_t(this.options.broadcaster)," ").concat(this.options.broadcaster," is not supported."))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(s){return this.connector.presenceChannel(s)}},{key:"leave",value:function(s){this.connector.leave(s)}},{key:"leaveChannel",value:function(s){this.connector.leaveChannel(s)}},{key:"leaveAllChannels",value:function(){for(var s in this.connector.channels)this.leaveChannel(s)}},{key:"listen",value:function(s,a,u){return this.connector.listen(s,a,u)}},{key:"private",value:function(s){return this.connector.privateChannel(s)}},{key:"encryptedPrivate",value:function(s){if(this.connector instanceof mn)throw new Error("Broadcaster ".concat(_t(this.options.broadcaster)," ").concat(this.options.broadcaster," does not support encrypted private channels."));return this.connector.encryptedPrivateChannel(s)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":_t(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var s=this;Vue.http.interceptors.push(function(a,u){s.socketId()&&a.headers.set("X-Socket-ID",s.socketId()),u()})}},{key:"registerAxiosRequestInterceptor",value:function(){var s=this;axios.interceptors.request.use(function(a){return s.socketId()&&(a.headers["X-Socket-Id"]=s.socketId()),a})}},{key:"registerjQueryAjaxSetup",value:function(){var s=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(a,u,h){s.socketId()&&h.setRequestHeader("X-Socket-Id",s.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var s=this;document.addEventListener("turbo:before-fetch-request",function(a){a.detail.fetchOptions.headers["X-Socket-Id"]=s.socketId()})}}]),r}();window.axios=zn;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";let Bt=document.head.querySelector('meta[name="csrf-token"]');Bt?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=Bt.content:console.error("CSRF token not found");window.Pusher=La;window.Echo=new za({broadcaster:"pusher",key:{}.MIX_PUSHER_APP_KEY||"local",wsHost:window.location.hostname,wsPort:6001,wssPort:6001,forceTLS:!1,enabledTransports:["ws","wss"],disableStats:!0,authEndpoint:"/broadcasting/auth",auth:{headers:{"X-CSRF-TOKEN":Bt?Bt.content:"","X-Requested-With":"XMLHttpRequest"}},pusherOptions:{wsHost:window.location.hostname,wsPort:6001,wssPort:6001,forceTLS:!1,enabledTransports:["ws","wss"],disableStats:!0}});window.axios=zn;
